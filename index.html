<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POSSE Dance Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap');

        :root {
            --bg: #f5f5f7;
            --sidebar-bg: #1d1d1f;
            --card: #ffffff;
            --text-primary: #1d1d1f;
            --text-secondary: #86868b;
            --text-tertiary: #aeaeb2;
            --accent: #0071e3;
            --accent-hover: #0077ED;
            --green: #34c759;
            --orange: #ff9500;
            --red: #ff3b30;
            --purple: #af52de;
            --border: rgba(0,0,0,0.06);
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
            --shadow-md: 0 4px 14px rgba(0,0,0,0.06), 0 2px 6px rgba(0,0,0,0.04);
            --shadow-lg: 0 10px 40px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
            --radius: 16px;
            --radius-sm: 12px;
            --radius-xs: 8px;
            --transition: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans JP", sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
        }

        /* ===== SIDEBAR - Apple Style ===== */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 260px;
            height: 100vh;
            background: var(--sidebar-bg);
            color: white;
            padding: 32px 0;
            overflow-y: auto;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .sidebar-logo {
            padding: 0 28px;
            margin-bottom: 40px;
        }

        .sidebar-logo h1 {
            font-size: 22px;
            font-weight: 700;
            letter-spacing: -0.5px;
            line-height: 1.2;
        }

        .sidebar-logo p {
            font-size: 13px;
            color: rgba(255,255,255,0.45);
            margin-top: 4px;
            letter-spacing: 1.5px;
        }

        .sidebar nav {
            display: flex;
            flex-direction: column;
            gap: 2px;
            padding: 0 12px;
        }

        .sidebar .nav-section-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            color: rgba(255,255,255,0.25);
            padding: 20px 16px 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 12px 16px;
            background: transparent;
            border: none;
            color: rgba(255,255,255,0.55);
            cursor: pointer;
            border-radius: var(--radius-sm);
            font-size: 14px;
            font-weight: 500;
            transition: var(--transition);
            letter-spacing: -0.1px;
            font-family: inherit;
            text-align: left;
            width: 100%;
        }

        .nav-item:hover {
            color: rgba(255,255,255,0.85);
            background: rgba(255,255,255,0.06);
        }

        .nav-item.active {
            color: white;
            background: var(--accent);
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0,113,227,0.35);
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            opacity: 0.7;
        }

        .nav-item.active svg {
            opacity: 1;
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            margin-left: 260px;
            min-height: 100vh;
            padding: 40px 48px;
        }

        /* ===== PAGE HEADER ===== */
        .page-header {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            margin-bottom: 36px;
        }

        .page-header h2 {
            font-size: 34px;
            font-weight: 700;
            letter-spacing: -1px;
            line-height: 1.1;
        }

        .page-header .subtitle {
            font-size: 15px;
            color: var(--text-secondary);
            margin-top: 6px;
            font-weight: 400;
        }

        .date-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            background: white;
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: var(--shadow-sm);
        }

        /* ===== CARDS ===== */
        .card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 28px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border: none;
        }

        .card:hover {
            box-shadow: var(--shadow-md);
        }

        /* ===== STAT CARDS ===== */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 28px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .stat-icon svg { width: 20px; height: 20px; }
        .stat-icon.blue { background: rgba(0,113,227,0.1); color: var(--accent); }
        .stat-icon.green { background: rgba(52,199,89,0.1); color: var(--green); }
        .stat-icon.orange { background: rgba(255,149,0,0.1); color: var(--orange); }
        .stat-icon.red { background: rgba(255,59,48,0.1); color: var(--red); }
        .stat-icon.purple { background: rgba(175,82,222,0.1); color: var(--purple); }

        .stat-label { font-size: 13px; font-weight: 500; color: var(--text-secondary); margin-bottom: 8px; letter-spacing: 0.2px; }
        .stat-value { font-size: 42px; font-weight: 700; letter-spacing: -2px; line-height: 1; }
        .stat-unit { font-size: 16px; font-weight: 500; color: var(--text-secondary); margin-left: 4px; letter-spacing: 0; }
        .stat-change { display: inline-flex; align-items: center; gap: 4px; font-size: 12px; font-weight: 600; margin-top: 12px; padding: 4px 10px; border-radius: 20px; }
        .stat-change.up { background: rgba(52,199,89,0.1); color: var(--green); }
        .stat-change.down { background: rgba(255,59,48,0.1); color: var(--red); }

        /* ===== CONTENT GRID ===== */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 32px;
        }

        .content-grid.full { grid-template-columns: 1fr; }

        .content-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 32px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }

        .content-card:hover { box-shadow: var(--shadow-md); }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
        }

        .card-title { font-size: 18px; font-weight: 600; letter-spacing: -0.3px; }
        .card-action { font-size: 13px; font-weight: 500; color: var(--accent); cursor: pointer; transition: var(--transition); }
        .card-action:hover { opacity: 0.7; }

        /* ===== REVENUE BREAKDOWN ===== */
        .revenue-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 0;
            border-bottom: 1px solid var(--border);
        }

        .revenue-row:last-child { border-bottom: none; }
        .rev-label { display: flex; align-items: center; gap: 12px; font-size: 14px; font-weight: 500; }
        .rev-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
        .rev-detail { font-size: 13px; color: var(--text-secondary); text-align: right; }
        .rev-amount { font-size: 16px; font-weight: 600; letter-spacing: -0.3px; }
        .revenue-total { display: flex; justify-content: space-between; align-items: center; padding: 20px 0 0; margin-top: 8px; border-top: 2px solid var(--text-primary); }
        .revenue-total .rev-label { font-size: 16px; font-weight: 600; }
        .revenue-total .rev-amount { font-size: 28px; font-weight: 700; letter-spacing: -1px; }

        /* ===== VISITOR REVENUE CARD ===== */
        .visitor-highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: var(--radius);
            padding: 32px;
            position: relative;
            overflow: hidden;
        }

        .visitor-highlight::after {
            content: '';
            position: absolute;
            top: -30%;
            right: -10%;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: rgba(255,255,255,0.08);
        }

        .vh-label { font-size: 13px; font-weight: 500; opacity: 0.75; margin-bottom: 8px; }
        .vh-value { font-size: 48px; font-weight: 700; letter-spacing: -2px; line-height: 1; margin-bottom: 4px; }
        .vh-detail { font-size: 14px; opacity: 0.65; }

        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 22px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            letter-spacing: -0.1px;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 22px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,113,227,0.25);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary:hover {
            background: var(--accent-hover);
            box-shadow: 0 4px 14px rgba(0,113,227,0.35);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: rgba(0,0,0,0.05);
            color: var(--text-primary);
            border: none;
            padding: 10px 22px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-secondary:hover {
            background: rgba(0,0,0,0.08);
        }

        .btn-danger {
            background: var(--red);
            color: white;
            border: none;
            padding: 10px 22px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(255,59,48,0.25);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-danger:hover {
            background: #ff453a;
            box-shadow: 0 4px 14px rgba(255,59,48,0.35);
            transform: translateY(-1px);
        }

        .btn-green {
            background: var(--green);
            color: white;
            border: none;
            padding: 10px 22px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(52,199,89,0.25);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-green:hover {
            background: #3dd65f;
            box-shadow: 0 4px 14px rgba(52,199,89,0.35);
            transform: translateY(-1px);
        }

        .btn-sm {
            padding: 7px 14px;
            font-size: 12px;
            border-radius: var(--radius-xs);
        }

        /* ===== BADGES ===== */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 0.2px;
        }

        .badge-green {
            background: rgba(52,199,89,0.1);
            color: var(--green);
        }

        .badge-yellow {
            background: rgba(255,149,0,0.1);
            color: var(--orange);
        }

        .badge-gray {
            background: rgba(142,142,147,0.1);
            color: #8e8e93;
        }

        .badge-red {
            background: rgba(255,59,48,0.1);
            color: var(--red);
        }

        .badge-blue {
            background: rgba(0,113,227,0.08);
            color: var(--accent);
        }

        /* ===== SEARCH BAR ===== */
        .search-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            border-radius: var(--radius-sm);
            padding: 12px 20px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 24px;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .search-bar:focus-within {
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(0,113,227,0.1);
        }

        .search-bar svg { color: var(--text-tertiary); flex-shrink: 0; }

        .search-bar input {
            border: none;
            outline: none;
            font-size: 15px;
            font-family: inherit;
            color: var(--text-primary);
            width: 100%;
            background: transparent;
        }

        .search-bar input::placeholder { color: var(--text-tertiary); }

        /* ===== FORM INPUTS ===== */
        .form-input {
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: var(--radius-xs);
            font-size: 14px;
            font-family: inherit;
            transition: var(--transition);
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(0,113,227,0.1);
        }

        /* ===== TABLES ===== */
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        th {
            background: rgba(0,0,0,0.02);
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            font-size: 12px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
            letter-spacing: 0.3px;
            text-transform: uppercase;
        }

        td {
            padding: 14px 16px;
            border-bottom: 1px solid var(--border);
            font-size: 14px;
        }

        tr:hover td {
            background: rgba(0,113,227,0.02);
        }

        /* ===== TAB BAR (Apple Segmented Control) ===== */
        .tab-nav {
            display: flex;
            gap: 4px;
            background: rgba(0,0,0,0.04);
            padding: 4px;
            border-radius: var(--radius-sm);
            margin-bottom: 24px;
            width: fit-content;
            border-bottom: none;
        }

        .tab-btn {
            padding: 8px 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            border-radius: var(--radius-xs);
            transition: var(--transition);
            font-family: inherit;
            border-bottom: none;
        }

        .tab-btn.active {
            background: white;
            color: var(--text-primary);
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            font-weight: 600;
        }

        /* ===== CUSTOMER CARDS ===== */
        .customer-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .customer-row {
            background: white;
            border-radius: var(--radius-sm);
            padding: 20px 24px;
            display: grid;
            grid-template-columns: 48px 1fr 100px 140px 120px 80px;
            align-items: center;
            gap: 16px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            cursor: pointer;
        }

        .customer-row:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-1px);
        }

        .customer-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }

        .customer-info h4 { font-size: 15px; font-weight: 600; letter-spacing: -0.2px; margin-bottom: 3px; }
        .customer-info p { font-size: 12px; color: var(--text-secondary); }
        .customer-course { font-size: 13px; font-weight: 600; color: var(--accent); background: rgba(0,113,227,0.08); padding: 5px 12px; border-radius: 20px; text-align: center; }
        .customer-phone { font-size: 13px; color: var(--text-secondary); font-variant-numeric: tabular-nums; }
        .customer-date { font-size: 13px; color: var(--text-secondary); }

        /* ===== INSTRUCTOR CARDS ===== */
        .instructor-card {
            background: var(--card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            transition: var(--transition);
            border: none;
        }

        .instructor-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .instructor-header {
            padding: 28px 28px 20px;
            border-bottom: 1px solid var(--border);
            background: rgba(0,0,0,0.01);
        }

        .instructor-name {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
            letter-spacing: -0.3px;
        }

        .instructor-stage {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .instructor-body {
            padding: 24px 28px;
        }

        .instructor-section {
            margin-bottom: 16px;
        }

        .instructor-section:last-child {
            margin-bottom: 0;
        }

        .instructor-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        /* ===== STATUS BADGES ===== */
        .status-badge-active { background: rgba(52,199,89,0.1); color: var(--green); font-weight: 600; border-radius: 20px; padding: 4px 12px; }
        .status-badge-paused { background: rgba(255,149,0,0.1); color: var(--orange); font-weight: 600; border-radius: 20px; padding: 4px 12px; }
        .status-badge-withdrawn { background: rgba(142,142,147,0.1); color: #8e8e93; font-weight: 600; border-radius: 20px; padding: 4px 12px; }
        .gender-male { color: var(--accent); font-weight: 600; }
        .gender-female { color: var(--red); font-weight: 600; }

        /* ===== SORTABLE HEADERS ===== */
        .sortable-header { cursor: pointer; user-select: none; transition: var(--transition); }
        .sortable-header:hover { background: rgba(0,0,0,0.04); }
        .sort-icon { display: inline-block; margin-left: 4px; font-size: 10px; }

        /* ===== TEXT CELLS ===== */
        td.memo-cell {
            white-space: normal !important;
            word-wrap: break-word;
            word-break: break-word;
            line-height: 1.5;
            padding-top: 14px !important;
            padding-bottom: 14px !important;
            vertical-align: top;
        }

        td.email-cell {
            white-space: nowrap !important;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* ===== CLASS COLORS ===== */
        .class-red { background-color: #DC2626; }
        .class-orange { background-color: #EA580C; }
        .class-blue { background-color: #2563EB; }
        .class-green { background-color: #16A34A; }
        .class-purple { background-color: #9333EA; }

        .border-red-500 { border-color: #EF4444; }
        .border-orange-500 { border-color: #F97316; }
        .border-blue-500 { border-color: #3B82F6; }
        .border-green-500 { border-color: #22C55E; }
        .border-purple-500 { border-color: #A855F7; }

        .text-red-600 { color: #DC2626; }
        .text-orange-600 { color: #EA580C; }
        .text-blue-600 { color: #2563EB; }
        .text-green-600 { color: #16A34A; }
        .text-purple-600 { color: #9333EA; }

        .bg-red-600 { background-color: #DC2626; }
        .bg-orange-600 { background-color: #EA580C; }
        .bg-blue-600 { background-color: #2563EB; }
        .bg-green-600 { background-color: #16A34A; }
        .bg-purple-600 { background-color: #9333EA; }

        /* ===== SCROLLBAR ===== */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.15); border-radius: 3px; }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }

        .student-search-results {
            max-height: 300px;
            overflow-y: auto;
            z-index: 10;
        }

        .select-customer-btn:hover {
            background: rgba(0,113,227,0.04);
        }

        /* Tab active state (for backward compatibility) */
        .tab-active { background: white; color: var(--text-primary); box-shadow: 0 1px 3px rgba(0,0,0,0.08); font-weight: 600; border-radius: var(--radius-xs); }
        .status-tab-active { background: var(--accent); color: white; border-radius: var(--radius-xs); }
    </style>
</head>
<body>
    <div id="app"></div>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, setDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        const firebaseConfig = {
            apiKey: "AIzaSyBp3_3UwgOKkILJuWx8usYdQhGfB_bAD34",
            authDomain: "posse-dance-academy.firebaseapp.com",
            projectId: "posse-dance-academy",
            storageBucket: "posse-dance-academy.firebasestorage.app",
            messagingSenderId: "613497046871",
            appId: "1:613497046871:web:8a31cbc6b947617113e012"
        };
        const firebaseApp = initializeApp(firebaseConfig);
        const db = getFirestore(firebaseApp);
        class DanceStudioApp {
            constructor() {
                this.currentTab = 'home';
                this.statusFilter = '入会中';
                this.customers = [];
                this.editingId = null;
                this.editForm = {};
                this.showAddForm = false;
                this.searchTerm = '';
                this.sortField = 'memberNumber';
                this.sortOrder = 'asc';
                this.newCustomer = this.getEmptyCustomer();
                
                // 出席簿用
                this.attendanceTab = 'overview';
                this.selectedMonth = new Date().toISOString().slice(0, 7);
                this.selectedDay = '月曜日';
                this.attendanceData = {};
                this.eventAttendanceData = []; // イベント専用データ
                this.showAddStudentForm = false;
                this.selectedClassForAdd = null;
                this.isLoading = false;
                this.editingStudent = null; // 編集中の生徒情報
                this.studentSearchTerm = ''; // 生徒検索用
                this.studentSearchResults = []; // 検索結果
                this.selectedCustomerForStudent = null; // 選択された顧客情報
                
                this.pricing = {
                    '4クラス': 18600,
                    '４クラス': 18600,
                    '3クラス': 14400,
                    '３クラス': 14400,
                    '2クラス': 10000,
                    '２クラス': 10000,
                    '1クラス': 6000,
                    '１クラス': 6000,
                    '1.5hクラス': 6600,
                    '初回体験': 1000,
                    '初回無料': 0,
                    'ビジター（会員）': 2000,
                    'ビジター（非会員）': 2300,
                    'ビジター1.5h（会員）': 2200,
                    'ビジター1.5h（非会員）': 2500,
                    '月謝クラス振替': 1000,
                    '練習会': 500
                };
                this.planOrder = {
                    '4クラス': 1,
                    '４クラス': 1,
                    '3クラス': 2,
                    '３クラス': 2,
                    '2クラス': 3,
                    '２クラス': 3,
                    '1クラス': 4,
                    '１クラス': 4,
                    '1.5hクラス': 5,
                    'ビジター（会員）': 6,
                    'ビジター（非会員）': 7,
                    'ビジター（振替）': 8,
                    '初回体験': 9,
                    '初回無料': 10
                };
                this.scheduleData = {
                    '月曜日': [
                        { location: '天神', name: 'アクロバット SOYA', color: 'red', students: [
                            { lastName: '中島', firstName: '竜吾', plan: '３クラス' },
                            { lastName: '伊藤', firstName: '和馬', plan: '1クラス' },
                            { lastName: '四井', firstName: '陽音', plan: '３クラス' },
                            { lastName: '津留', firstName: '創真', plan: '２クラス' },
                            { lastName: '三重野', firstName: '琉生', plan: '３クラス' },
                            { lastName: 'ひわたし', firstName: 'こうた', plan: '２クラス' },
                            { lastName: '嶋川', firstName: '陽大', plan: '３クラス' },
                            { lastName: '', firstName: '大空', plan: '３クラス' }
                        ]},
                        { location: '天神', name: 'ブレイキン入門 SOYA', color: 'orange', students: [
                            { lastName: '津留', firstName: '創真', plan: '２クラス' },
                            { lastName: '榊', firstName: '花梨', plan: '２クラス' },
                            { lastName: 'ひわたし', firstName: 'こうた', plan: '２クラス' }
                        ]},
                        { location: '天神', name: 'トップロック フットワーク DAZ', color: 'blue', students: [
                            { lastName: '中島', firstName: '竜吾', plan: '３クラス' },
                            { lastName: '四井', firstName: '陽音', plan: '３クラス' },
                            { lastName: '伊藤', firstName: '和馬', plan: '1クラス' },
                            { lastName: '三重野', firstName: '琉生', plan: '３クラス' },
                            { lastName: '戸田', firstName: '唯斗', plan: '1クラス' },
                            { lastName: '森脇', firstName: '鳳仁', plan: '1クラス' },
                            { lastName: '嶋川', firstName: '陽大', plan: '２クラス' },
                            { lastName: '', firstName: '大空', plan: '３クラス' }
                        ]},
                        { location: '天神', name: 'K-POP AI', color: 'green', students: [
                            { lastName: '平嶋', firstName: '彩佳', plan: '1クラス' },
                            { lastName: '杉村', firstName: '早紀', plan: '1クラス' },
                            { lastName: '石原', firstName: '美黎', plan: '２クラス' },
                            { lastName: '田代', firstName: '杏奈', plan: '1クラス' },
                            { lastName: '唯野', firstName: '萌維', plan: '1クラス' }
                        ]},
                        { location: '天神', name: 'hiphop HIMEKA', color: 'purple', students: [
                            { lastName: '石原', firstName: '美黎', plan: '1クラス' },
                            { lastName: '中川', firstName: '凛音', plan: '２クラス' }
                        ]},
                        { location: '大橋', name: 'hiphop HIMEKA', color: 'purple', students: [
                            { lastName: '清水', firstName: 'くるみ', plan: '1クラス' }
                        ]}
                    ],
                    '火曜日': [
                        { location: '大橋', name: 'キッズダンス AYANO', color: 'red', students: [
                            { lastName: '古賀', firstName: '文人', plan: '1クラス' },
                            { lastName: '古賀', firstName: '卯月妃', plan: '1クラス' },
                            { lastName: '原口', firstName: '省吾', plan: '1クラス' },
                            { lastName: 'わたなべ', firstName: 'いとし', plan: '1クラス' },
                            { lastName: '富井', firstName: '藍', plan: '1クラス' }
                        ]},
                        { location: '大橋', name: 'Bgirlクラス AYANO HARUHIKO', color: 'orange', students: [
                            { lastName: '愛甲', firstName: '大輪', plan: '1クラス' }
                        ]},
                        { location: '照葉', name: 'ブレイキン入門 SOYA', color: 'blue', students: [
                            { lastName: '西園', firstName: '千晃', plan: '1クラス' },
                            { lastName: '榊', firstName: '花梨', plan: '２クラス' }
                        ]},
                        { location: '照葉', name: 'アクロ＆パワー SOYA', color: 'green', students: [
                            { lastName: '堤', firstName: '勇仁', plan: '1クラス' },
                            { lastName: '吉武', firstName: '凛保', plan: '３クラス' }
                        ]}
                    ],
                    '水曜日': [
                        { location: '天神', name: 'ブレイキン初級 HARUHIKO', color: 'red', students: [
                            { lastName: '田島', firstName: '渚', plan: '1クラス' },
                            { lastName: '吉田', firstName: '智幸', plan: '1クラス' },
                            { lastName: '本橋', firstName: '廉士', plan: '1クラス' },
                            { lastName: '酒井', firstName: '天優', plan: '1クラス' },
                            { lastName: '新藤', firstName: '大希', plan: '1クラス' },
                            { lastName: '荒巻', firstName: '大和', plan: '1クラス' },
                            { lastName: 'しん', firstName: 'よしと', plan: '1クラス' },
                            { lastName: '藤野', firstName: '蒼士', plan: '1クラス' }
                        ]},
                        { location: '天神', name: 'ブレイキン中上級 HARUHIKO', color: 'orange', students: [
                            { lastName: '森田', firstName: '翔真', plan: '1クラス' },
                            { lastName: '中山', firstName: '結愛', plan: '1クラス' },
                            { lastName: '', firstName: '大空', plan: '３クラス' },
                            { lastName: '迫田', firstName: 'りりあ', plan: '1クラス' }
                        ]}
                    ],
                    '木曜日': [
                        { location: '大橋', name: 'ブレイキン入門 SOYA', color: 'red', students: [
                            { lastName: '豊福', firstName: '悠成', plan: '1クラス' },
                            { lastName: '吉村', firstName: '太壱', plan: '２クラス' },
                            { lastName: '池田', firstName: '全', plan: '1クラス' },
                            { lastName: '澤江', firstName: '悠', plan: '1クラス' },
                            { lastName: '原口', firstName: '賢伸', plan: '２クラス' },
                            { lastName: '渡邉', firstName: '創太', plan: '２クラス' },
                            { lastName: '藤田', firstName: '将舞', plan: '２クラス' },
                            { lastName: '藤田', firstName: '凌羽', plan: '２クラス' },
                            { lastName: '小柳', firstName: '友陽', plan: '２クラス' },
                            { lastName: '山下', firstName: '幸四郎', plan: '1クラス' }
                        ]},
                        { location: '大橋', name: 'アクロ＆パワー SOYA', color: 'orange', students: [
                            { lastName: '中山', firstName: '結愛', plan: '２クラス' },
                            { lastName: '豊福', firstName: '悠成', plan: '２クラス' },
                            { lastName: '吉村', firstName: '太壱', plan: '２クラス' },
                            { lastName: '原口', firstName: '賢伸', plan: '２クラス' },
                            { lastName: '四井', firstName: '陽音', plan: '２クラス' },
                            { lastName: '渡邉', firstName: '創太', plan: '２クラス' },
                            { lastName: '萩原', firstName: '聖香', plan: '1クラス' },
                            { lastName: '小柳', firstName: '友陽', plan: '２クラス' },
                            { lastName: '澤江', firstName: '悠', plan: '1クラス' }
                        ]},
                        { location: '照葉', name: 'ブレイキン入門 リュウセイ', color: 'blue', students: [
                            { lastName: '楊', firstName: 'ビンチェンエイデン', plan: '２クラス' },
                            { lastName: '楊', firstName: 'エクソ', plan: '２クラス' },
                            { lastName: 'しぎょう', firstName: 'とうま', plan: '1クラス' },
                            { lastName: 'しぎょう', firstName: 'ゆうま', plan: '1クラス' },
                            { lastName: '梅野', firstName: '壮大', plan: '２クラス' },
                            { lastName: '梅野', firstName: '絢音', plan: '２クラス' },
                            { lastName: '長谷川', firstName: '丈', plan: '２クラス' }
                        ]},
                        { location: '照葉', name: 'アクロ＆パワー リュウセイ', color: 'green', students: [
                            { lastName: '吉武', firstName: '凛保', plan: '２クラス' },
                            { lastName: '楊', firstName: 'ビンチェンエイデン', plan: '２クラス' },
                            { lastName: '楊', firstName: 'エクソ', plan: '２クラス' },
                            { lastName: '工藤', firstName: '大地', plan: '２クラス' },
                            { lastName: '長谷川', firstName: '丈', plan: '２クラス' },
                            { lastName: '梅野', firstName: '壮大', plan: '２クラス' },
                            { lastName: '梅野', firstName: '絢音', plan: '２クラス' }
                        ]}
                    ],
                    '金曜日': [
                        { location: '天神', name: 'アクロ＆パワー SOYA', color: 'red', students: [
                            { lastName: '中島', firstName: '竜吾', plan: '３クラス' },
                            { lastName: '伊藤', firstName: '和馬', plan: '３クラス' },
                            { lastName: '藤野', firstName: '蒼士', plan: '1クラス' },
                            { lastName: '中山', firstName: '隼', plan: '1クラス' },
                            { lastName: '三重野', firstName: '琉生', plan: '３クラス' },
                            { lastName: 'よこやま', firstName: 'ゆめ', plan: '２クラス' }
                        ]},
                        { location: '天神', name: 'ブレイキン初中級 HARUHIKO', color: 'orange', students: [
                            { lastName: '中島', firstName: '竜吾', plan: '３クラス' },
                            { lastName: '三重野', firstName: '琉生', plan: '３クラス' },
                            { lastName: 'よこやま', firstName: 'ゆめ', plan: '２クラス' },
                            { lastName: '伊藤', firstName: '和馬', plan: '３クラス' }
                        ]},
                        { location: '大橋', name: 'ブレイキン入門 HARUHIKO', color: 'blue', students: [
                            { lastName: '萩尾', firstName: '郁海', plan: '２クラス' },
                            { lastName: '矢野', firstName: '新', plan: '1クラス' },
                            { lastName: '伊豆永', firstName: '晄逢', plan: '1クラス' },
                            { lastName: '藤川', firstName: '悠利', plan: '２クラス' },
                            { lastName: '藤川', firstName: '柊利', plan: '２クラス' },
                            { lastName: '三重野', firstName: 'かな', plan: '２クラス' },
                            { lastName: '久保田', firstName: '朱里', plan: '1クラス' },
                            { lastName: '古賀', firstName: '心太郎', plan: '1クラス' }
                        ]},
                        { location: '大橋', name: 'アクロ＆パワー ryusei', color: 'green', students: [
                            { lastName: '萩尾', firstName: '郁海', plan: '２クラス' },
                            { lastName: '藤川', firstName: '悠利', plan: '２クラス' },
                            { lastName: '藤川', firstName: '柊利', plan: '２クラス' },
                            { lastName: '三重野', firstName: 'かな', plan: '２クラス' },
                            { lastName: '児玉', firstName: '蛍斗', plan: '1クラス' }
                        ]}
                    ],
                    'イベント': []
                };

                // 講師プロフィールデータ
                this.instructorData = [
                    {
                        name: '邑本 康祐', stageName: 'Mottchmen', genre: "BREAKIN'", birthDate: '1975/3/31',
                        careerStart: '1997年よりブレイクダンスを中心にダンスを始める',
                        profile: '', message: '',
                        awards: ['2013年 UK bboy championships 九州予選 準優勝','2014年 UK bboy championships 九州予選 準優勝','2015年 WDC 九州大会 best4','2016年 UK bboy championships japan final best8','2017年 WDC 九州大会 best4','2018年 UK bboy championships japan final best4','2018年 Superman grand championships 準優勝','2019,2020年 PARTY×LINE crewbattle 優勝'],
                        otherExperience: ['SUNSET LIVE 2017,2018,2019','RHYMESTER BBOYイズム バックダンサーとして出演'],
                        lessons: ['K2JAM ダンススタジオ 2010年〜','スターリー69 ダンススタジオ 2021年9月〜']
                    },
                    {
                        name: '中島 春彦', stageName: 'HARUHIKO aka WATCHM3N', genre: "BREAKIN'", birthDate: '1982/03/10',
                        careerStart: '1999年よりダンス（ブレイキング）のキャリアスタート',
                        profile: '2000年からブレイキンのオリジナリティスタートし、ダンスバトルやショウケース、審査員などで九州内外で活動しています。',
                        message: 'ブレイキンは非常に運動量の多いダンスです。子供たちの身体能力、柔軟性、体幹を無理なく鍛え、挫折なく効率的に上達できるようなカリキュラムを組んでいます。',
                        awards: ['2005年 UK B-BOY CHAMPIONSHIPS JAPAN ELIMINATION 準優勝','2006年 UK B-BOY CHAMPIONSHIPS JAPAN ELIMINATION BEST4','2012年 Red Bull BC One japanfinal best4','2015年 World Dance Colosseum ワールドファイナル世界大会審査員','2018年 Red Bull BC One japanfinal best16','2020年 SUPER BREAK 世界大会審査員'],
                        otherExperience: ['JAPAN DANCE DELIGHT ファイナリスト','GARAND CHAMPION CARNIVAL ファイナリスト複数回','SUNSET LIVE 2017,2018,2019','RHYMESTER BBOYイズム バックダンサー','RHYMESTER 全国ツアー 福岡バックダンサー'],
                        lessons: ['FEELダンススタジオ 指導歴10年以上','スタジオMJ（世界No.1ブレイクダンサーISSEIを輩出したスタジオ）']
                    },
                    {
                        name: '甲斐 僧耶', stageName: 'SOYA', genre: 'アクロバット・               ', birthDate: '1995/11/22',
                        careerStart: '2012年よりブレイクダンスを中心にキャリアスタート',
                        profile: '小学生の頃、テレビ番組「スーパーチャンプル」を見てダンスに興味を持ち、高2年の冬に本格的にブレイクダンスを始めました。',
                        message: 'パワームーブやフリーズ、アクロバットも得意としています。生徒一人ひとりに合わせて指導し、楽しみながら本人の目標に向けてレベルアップしていくことを大切にしています。',
                        awards: ['2017年 SASEBO DANCE FES 特別賞STEEZ PRIZE','2018年 Kirafes Cup Battle Jam Vol.12 Breakin Side 優勝','2018年 GABANERO Vol.19 優勝','2019年 GABANEROVol.20 準優勝','2019年 UK九州予選 Best 4','2019年 GRAND CHAMPION CARNIVAL Free Style ファイナリスト','2020年 GABANERO Vol.22 優勝'],
                        otherExperience: ['TBS系列ナイナイお見合い大作戦in八女出演','Emotion rise kyushu支部 フラッシュモブ 元キャスト','RKBTV【チャギハ】Xperia商品PR ダンサー出演'],
                        lessons: ['TUDIO COLOR 2015〜2020','STUDIO TRAX 2015〜2018','FUNKFUNDANCECOMPANY 2015〜2022','SPROUT production 2019〜現在']
                    },
                    {
                        name: '伊藤 厚史', stageName: 'Ryce', genre: "BREAKIN'", birthDate: '1986/10/18',
                        careerStart: '2004年より中学の頃にブレイクダンスを始める',
                        profile: '福岡を拠点に九州をレベゼして活動しているBboy。',
                        message: '楽しみながら本人の目標に向けてレベルアップしていくことを大切にしています。',
                        awards: ['2007年 BIG WAX','2009年 Buzz Style','2011年 R-16 世界大会','2013年 UK bboy'],
                        otherExperience: ['オーストラリア・ ��イ・ ��の他多数の海外経験'],
                        lessons: ['指導歴8年近く。福岡以外にも佐賀や熊本でもレッスン経験あり']
                    }
                ];

                //  ��イムスケジュールデータ
                this.timeScheduleData = {
                    '月曜日': [
                        { time: '18:00-19:00', venue: '天神校', name: 'アクロバット SOYA', color: '#DC2626' },
                        { time: '18:00-19:00', venue: '天神校', name: 'ブレイキン入門 SOYA', color: '#EA580C' },
                        { time: '19:00-20:00', venue: '天神校', name: 'hiphop HIMEKA', color: '#9333EA' },
                        { time: '20:00-21:00', venue: '天神校', name: 'K-POP AI', color: '#16A34A' },
                        { time: '19:00-20:00', venue: '大橋校', name: 'hiphop HIMEKA', color: '#9333EA' },
                        { time: '20:00-21:00', venue: '大橋校', name: 'トップロック フットワーク DAZ', color: '#2563EB' },
                        { time: '21:00-22:00', venue: '大橋校', name: '練習会', color: '#F59E0B' }
                    ],
                    '火曜日': [
                        { time: '16:50-17:50', venue: '大橋校', name: 'HIPHOP ヒメカ', color: '#DC2626' },
                        { time: '17:30-18:30', venue: '大橋校', name: 'キッズダンス AYANO', color: '#EA580C' },
                        { time: '18:40-19:40', venue: '大橋校', name: 'Bgirlクラス AYANO HARUHIKO', color: '#EA580C' },
                        { time: '19:00-20:00', venue: '照葉校', name: 'ブレイキン入門 SOYA', color: '#2563EB' },
                        { time: '20:00-21:00', venue: '照葉校', name: 'アクロ＆パワー SOYA', color: '#16A34A' }
                    ],
                    '水曜日': [
                        { time: '18:30-19:30', venue: '天神校', name: 'ブレイキン初級 HARUHIKO', color: '#DC2626' },
                        { time: '19:30-21:00', venue: '天神校', name: 'ブレイキン中上級 HARUHIKO', color: '#EA580C' }
                    ],
                    '木曜日': [
                        { time: '18:30-19:30', venue: '大橋校', name: 'ブレイキン入門 SOYA', color: '#DC2626' },
                        { time: '19:20-20:20', venue: '大橋校', name: 'アクロ＆パワー SOYA', color: '#EA580C' },
                        { time: '20:30-21:30', venue: '大橋校', name: 'パワームーブ＆アクロ SOYA', color: '#2563EB' },
                        { time: '18:30-19:30', venue: '照葉校', name: 'ブレイキン入門 リュウセイ', color: '#DC2626' },
                        { time: '19:30-20:30', venue: '照葉校', name: 'パワーアクロ リュウセイ', color: '#EA580C' },
                        { time: '21:30-23:10', venue: '照葉校', name: '練習会', color: '#F59E0B' }
                    ],
                    '金曜日': [
                        { time: '17:50-18:50', venue: '大橋校', name: 'ブレイキン入門 HARUHIKO', color: '#2563EB' },
                        { time: '19:00-20:00', venue: '天神校', name: 'アクロ＆パワー SOYA', color: '#DC2626' },
                        { time: '19:00-20:00', venue: '大橋校', name: 'パワーアクロ リュウセイ', color: '#EA580C' },
                        { time: '20:00-21:00', venue: '天神校', name: 'ブレイキン初中級 HARUHIKO', color: '#EA580C' },
                        { time: '20:00-21:00', venue: '大橋校', name: 'アクロ＆パワー ryusei', color: '#16A34A' }
                    ]
                };
            }
            getEmptyCustomer() {
                return {
                    memberNumber: '', status: '入会中', course: '', annualFee: '', hakomonoRegistration: '',
                    lastName: '', firstName: '', reading: '', guardianName: '', hakomonoName: '',
                    gender: '', birthDate: '', phone1: '', phone2: '', email: '',
                    postalCode: '', prefecture: '', city: '', address: '', building: '',
                    joinDate: '', memo: ''
                };
            }
            calculateAge(birthDate) {
                if (!birthDate) return '';
                const today = new Date();
                const birth = new Date(birthDate);
                let age = today.getFullYear() - birth.getFullYear();
                const monthDiff = today.getMonth() - birth.getMonth();
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                    age--;
                }
                return age + '歳';
            }
            async init() {
                await this.loadCustomers();
                await this.loadScheduleData();
                await this.loadAttendance();
                await this.loadEventAttendance();
                
                // 全クラスの生徒をプラン順にソート
                Object.keys(this.scheduleData).forEach(day => {
                    this.scheduleData[day].forEach(classInfo => {
                        classInfo.students = this.sortStudentsByPlan(classInfo.students);
                    });
                });
                
                this.render();
            }
            async loadCustomers() {
                try {
                    const querySnapshot = await getDocs(collection(db, 'customers'));
                    this.customers = querySnapshot.docs.map(doc => {
                        const data = doc.data();
                        return {
                            id: doc.id,
                            ...data,
                            status: data.status || (data.active === '○' ? '入会中' : '休会中')
                        };
                    });
                    //  ��ライアント側で会員番号順にソート
                    this.customers.sort((a, b) => {
                        const aNum = a.memberNumber || '';
                        const bNum = b.memberNumber || '';
                        return aNum > bNum ? 1 : -1;
                    });
                } catch (error) {
                    console.error('データ読み込みエラー:', error);
                    this.customers = [];
                }
            }
            async loadScheduleData() {
                try {
                    const querySnapshot = await getDocs(collection(db, 'schedule'));
                    if (querySnapshot.empty) {
                        // Firestoreにデータがない場合は初期データを保存
                        console.log('スケジュールデータが見つかりません。初期データを保存します。');
                        await this.saveScheduleData();
                    } else {
                        // Firestoreからデータを読み込み
                        const loadedData = {};
                        querySnapshot.docs.forEach(doc => {
                            loadedData[doc.id] = doc.data().classes || [];
                        });
                        
                        // 読み込んだデータでscheduleDataを更新
                        if (Object.keys(loadedData).length > 0) {
                            this.scheduleData = loadedData;
                        }
                    }
                } catch (error) {
                    console.error('スケジュールデータ読み込みエラー:', error);
                    //  ��ラーの場合は初期データを使用
                }
            }
            async saveScheduleData() {
                try {
                    // 各曜日のデータをFirestoreに保存
                    for (const day of Object.keys(this.scheduleData)) {
                        const docRef = doc(db, 'schedule', day);
                        await setDoc(docRef, {
                            classes: this.scheduleData[day]
                        });
                    }
                } catch (error) {
                    console.error('スケジュールデータ保存エラー:', error);
                }
            }
            async addCustomer() {
                if (!this.newCustomer.lastName || !this.newCustomer.firstName) {
                    alert('氏名を入力してください');
                    return;
                }
                if (!this.newCustomer.memberNumber) {
                    alert('会員番号を入力してください');
                    return;
                }
                try {
                    await addDoc(collection(db, 'customers'), this.newCustomer);
                    await this.loadCustomers();
                    this.newCustomer = this.getEmptyCustomer();
                    this.showAddForm = false;
                    this.render();
                    alert('登録しました');
                } catch (error) {
                    console.error('登録エラー:', error);
                    alert('登録エラー: ' + error.message);
                }
            }
            async saveEdit() {
                if (!this.editForm.id) {
                    alert('保存エラー: IDが見つかりません');
                    return;
                }
                try {
                    const customerRef = doc(db, 'customers', this.editForm.id);
                    const { id, ...dataToSave } = this.editForm;
                    await updateDoc(customerRef, dataToSave);
                    await this.loadCustomers();
                    this.editingId = null;
                    this.editForm = {};
                    this.render();
                    alert('更新しました');
                } catch (error) {
                    console.error('更新エラー:', error);
                    alert('更新エラー: ' + error.message);
                }
            }
            async deleteCustomer(id) {
                if (!confirm('この顧客を削除してもよろしいですか?')) return;
                try {
                    await deleteDoc(doc(db, 'customers', id));
                    await this.loadCustomers();
                    this.render();
                    alert('削除しました');
                } catch (error) {
                    console.error('削除エラー:', error);
                    alert('削除エラー: ' + error.message);
                }
            }
            startEdit(id) {
                this.editingId = id;
                const customer = this.customers.find(c => c.id === id);
                if (customer) {
                    this.editForm = { ...customer };
                    this.render();
                }
            }
            cancelEdit() {
                this.editingId = null;
                this.editForm = {};
                this.render();
            }
            updateEditField(field, value) {
                this.editForm[field] = value;
            }
            handleExport() {
                const headers = ['No', '会員番号', '会員ステータス', 'コース', '年会費更新日', '氏名', '読み', '保護者名', 'ハコモノ登録名', '性別', '生年月日', '年齢', '電話番号', 'メール', '入会日', '郵便番号', '都道府県', '市区町村', '番地', '建物・部屋番号', '備考'];
                const rows = this.customers.map((c, i) => [
                    i + 1, c.memberNumber || '', c.status, c.course, c.annualFee,
                    `${c.lastName} ${c.firstName}`, c.reading, c.guardianName, c.hakomonoName, c.gender,
                    c.birthDate, this.calculateAge(c.birthDate), c.phone1, c.email, c.joinDate,
                    c.postalCode, c.prefecture, c.city, c.address, c.building, c.memo
                ].map(f => `"${f || ''}"`).join(','));
                const csv = [headers.join(','), ...rows].join('\n');
                const blob = new Blob(['\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `顧客管理_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            }
            sortBy(field) {
                if (this.sortField === field) {
                    this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';
                } else {
                    this.sortField = field;
                    this.sortOrder = 'asc';
                }
                this.render();
            }
            getFilteredCustomers() {
                const s = this.searchTerm.toLowerCase();
                let filtered = this.customers.filter(c => 
                    c.status === this.statusFilter &&
                    ((c.lastName || '').toLowerCase().includes(s) ||
                    (c.firstName || '').toLowerCase().includes(s) ||
                    (c.reading || '').toLowerCase().includes(s) ||
                    (c.course || '').toLowerCase().includes(s) ||
                    (c.phone1 || '').includes(s) ||
                    (c.email || '').toLowerCase().includes(s) ||
                    (c.memberNumber || '').includes(s))
                );
                filtered.sort((a, b) => {
                    let aVal = a[this.sortField] || '';
                    let bVal = b[this.sortField] || '';
                    if (this.sortOrder === 'asc') {
                        return aVal > bVal ? 1 : -1;
                    } else {
                        return aVal < bVal ? 1 : -1;
                    }
                });
                return filtered;
            }
            render() {
                const filteredCustomers = this.getFilteredCustomers();
                document.getElementById('app').innerHTML = `
                    <div style="display:flex;">
                        <aside class="sidebar">
                            <div class="sidebar-logo">
                                <h1>POSSE</h1>
                                <p style="text-transform:lowercase;letter-spacing:1.5px;">dance academy</p>
                            </div>
                            <nav>
                                <button id="homeTab" class="nav-item ${this.currentTab === 'home' ? 'active' : ''}">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                    <span>HOME</span>
                                </button>
                                <button id="customersTab" class="nav-item ${this.currentTab === 'customers' ? 'active' : ''}">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
                                    <span>顧客管理</span>
                                </button>
                                <button id="attendanceTab" class="nav-item ${this.currentTab === 'attendance' ? 'active' : ''}">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><path d="M8 14l2 2 4-4"/></svg>
                                    <span>出席名簿</span>
                                </button>
                                <div class="nav-section-label">スケジュール</div>
                                <button id="timeScheduleTab" class="nav-item ${this.currentTab === 'attendheduleTab" cctive' : ''}">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x cx="9" cy=127" r="127"r><path d=e points="9 22 922"6 22"/2"/6 2svg>
                                    <span>出席ムスケジュールデー>
                                </button>
                                <button id="attendiff =lyleTab" class="nav-item ${this.currentTab === 'attendiff =lyleTab" cctive' : ''}">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><path d                                    <span>出席月間ジュールデー>
                                </button>
                                <button id="attendctorData =class="nav-item ${this.currentTab === 'customctorData =cctive' : ''}">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v20a4 4 0 00-4-4H5a4 4 8 00-4-4v2"/><circle cx="9" cy=127" r="4"/><path d                                    <span>出席プロフィールデー>
                                </button>
                                <b</                             </class                          <main="nav-itmain-filce't                               .currentTab === 'home' ? 'activender();
  Dashboard   :                           </buurrentTab === 'customers' ? 'activender();
  ers();
   edCustomers = thi  :                           </buurrentTab === 'customance' ? 'activender();
  ance();
     :                           </buurrentTab === 'customheduleTab" cctivender();
  TeduleTab" c   :                           </buurrentTab === 'customiff =lyleTab" cctivender();
  Mff =lyleTab" c   :                           </buurrentTab === 'customctorData =cctivender();
  ItorData =c   :                           </buurren();
  Dashboard  }                         </main                      
                      `            document.getElementById('app').b" clas')?ss, ttendLisce(er(');
  ', (
     uurrentTab === 'cu' ? 'ac;render();
                    returnnt.getElementById('app').ersTab" clas')?ss, ttendLisce(er(');
  ', (
     uurrentTab === 'cu' ers' ? 'ac;render();
                    returnnt.getElementById('app').anceTab" clas')?ss, ttendLisce(er(');
  ', (
     uurrentTab === 'cu' ance' ? 'ac;render();
                    returnnt.getElementById('app').heduleTab" clas')?ss, ttendLisce(er(');
  ', (
     uurrentTab === 'cu' heduleTab" cc;render();
                    returnnt.getElementById('app').iff =lyleTab" clas')?ss, ttendLisce(er(');
  ', (
     uurrentTab === 'cu' iff =lyleTab" cc;render();
                    returnnt.getElementById('app').ctorData =clas')?ss, ttendLisce(er(');
  ', (
     uurrentTab === 'cu' ctorData =cc;render();
                    returnis.sortOrtTab === 'customers' ? 'ac                  this.sortOrdetupers = thPagettend               docume {
    is.sortOrtTab === 'customance' ? 'ac                  this.sortOrdetupance();
  ttend               docume        }
            sortBy(etupers = thPagettend                    thnt.getElementById('app').e) {
 Btn')?ss, ttendLisce(er(');
  ', (
    ortOrExport() {
                returnnt.getElementById('app').hogglem = falBtn')?ss, ttendLisce(er(');
  ', (
    {showAddForm = false;!howAddForm = fal;render();
                    returnnt.getElementById('app').Term.tInput')?ss, ttendLisce(er('input', (e
    {showAdderm.toLowse;e.tarmen.
     render();
                    returnnt.getElementById('app').aomer() {
 Btn')?ss, ttendLisce(er(');
  ', (
    ortOrtomer() {
                returnnt.getElementById('app').edit()m =Btn')?ss, ttendLisce(er(');
  ', (
    {showAddForm = false;
     render();
                    return           return[�中', course�中')
    道倀', '��'保ach(classI === thi                  let aVnt.getElementById('app')` === t-${ === t}`)?ss, ttendLisce(er(');
  ', (
    {
                  this.schedulilter &&
   =s: data;
                    </buurren();
  (                 });
                });
                
     nt.getElenapshoen(dborAll('rder able-s.join'ach(day =>s.join    {
                  ths.joinss, ttendLisce(er(');
  ', (
    {
                  this.schedulfield)s.joinsmenancri>
 e('Save-
                       if (qu              });
                
     ortOrdetup falttend               documeortOrdetupeld(ttend               do        sortBy(etup falttend                const filtered   No', 'Number || '' 道: data 道 || '' 道Fee,
     道me || '' 道ame || '' 道g || '' 道anName, c.ha 道noName, c.ge 道a);
   道ate), c.p 道 || '' 道|| '' 道 ode, c.pr 道 ure, c.ci 道 ity 道F, c.bu 道ag, c.me 道te,
     道                  const ed   Nch(day =>f field>                 const customelument.creatementById('app')`new_${f fie}`)                if (this.sel                      returnelss, ttendLisce(er(')h studen(e
    {showAdtomer = thi] = value;e.tarmen.
     r                      
     elss, ttendLisce(er('input', (e
    {showAdtomer = thi] = value;e.tarmen.
     r                      
             });
                re        sortBy(etupeld(ttend                    thnt.getElenapshoen(dborAll('[Save-rm[f-alabel="dit(i"]'ach(day =>btnld>                 const btnss, ttendLisce(er(');
  ', (
    {
                  this.schedulil(id) {
btnsmenancri>
 e('Save-i                    if (qu              });
                
     nt.getElenapshoen(dborAll('[Save-rm[f-alabel="Doc(do"]'ach(day =>btnld>                 const btnss, ttendLisce(er(');
  ', (
    {
                  this.scheduCustomer(id) {
btnsmenancri>
 e('Save-i                    if (qu              });
                
     nt.getElementById('app').Tt() {
 Btn')?ss, ttendLisce(er(');
  ', (
    ortOrit() {
                returnnt.getElementById('app').edit() {
 Btn')?ss, ttendLisce(er(');
  ', (
    ortOrEdit() {
                const link =eld(fieldNo', 'Number || '' 道: data 道 || '' 道Fee,
     道g || '' 道anName, c.ha 道noName, c.ge 道a);
   道ate), c.p 道 || '' 道|| '' 道 ode, c.pr 道 ure, c.ci 道 ity 道F, c.bu 道ag, c.me 道te,
     道                  const eld(fieldNch(day =>f field>                 const customelument.creatementById('app')`eld(_${f fie}`)                if (this.sel                      returnelss, ttendLisce(er(')h studen(e
    {showAdEditField(field, value)e.tarmen.
    ) r                      
     elss, ttendLisce(er('input', (e
    {showAdEditField(field, value)e.tarmen.
    ) r                      
             });
                returncustom'ア= field;nt.getElementById('app').eld(_fullc.ge              returnis.s'ア= fie                      re'ア= fiess, ttendLisce(er('input', (e
    {                   const docRefpl(isue;e.tarmen.
    ('T')[0]                       await ditForm.id);
 me || '')=fpl(is[0];
                        returnditForm.id);
 ame || '')=fpl(is[1];
                        re}             docume        }
            sortBy();
  Dashboard   {           const today = t[thisustomers.filter > 0)             returncustom' : ''Counts.customers.filter(c => 
     us === this.s�中', cour)r > 0)             returncustompausedCounts.customers.filter(c => 
     us === this.s�中')
     r > 0)             returncustomwithdrawnCounts.customers.filter(c => 
     us === this.s�倀', '��'保 r > 0)              const csv = [|| ''Prices                   '月曜１': 6000道1': 6000�               '月曜２': 10000道2': 10000�               '月曜３': 14400道3': 14400�               '月曜４': 18600道4': 18600           };
            }
    nst csv = [|| '' stros    ��４': '#5856d6'道4': '#5856d6'道３': '#0071e3'道3': '#0071e3'道２': '#34c759'道2': '#34c759'道１': '#ff95enue:�1': '#ff95enu               // 講csv = [|| '' suthis.s              this.renderers.filter(c => 
     us === this.s�中', cour)rh(classIn    {                   costomee || '') [|| '' suthi[ee || ''lue;([|| '' suthi[ee || ''lu
  0)c.me            });
                 let filter= t[tRe '大ue;0;           Object.keys(tendries([|| '' suthi)rh(classI([, c.annuasuth])    {                   costome|| ''Prices[, c.an]) = t[tRe '大u+= e|| ''Prices[, c.an] *uasuth            });
                 let fiラビ）']�',
売上計算           let filtervisiborVisibsue;0;           Objectcustomerab ==Mff =s.searchTen(dbedMff =s
  te().toISOString().split(';
 e(0�7             const monthDiff =Kew Daerab ==Mff =.repla e('-ue:�              const blob =visiborlassNo', 'ビ）']�',
界N��テ    ービ）']�',
界N��般    ービ）']�',
 ービ）']�',
(N��テ) ービ）']�',
(N��般)              const .keys(this.scheduleData)) {
 s
  {}ach(day => {
                    this.sstom {
  s.s�ント': []
 rn;
                try {
.membcheduleData[day]
     ;
    )rh(classInls    {                   const Inlsnts = this
    )rh(classIs                            loadedstomvisiborlassNdes(s))
   .'1�)                          this.snst blob =kew Da {
 + '_v], Inlsnts = thidesdexOf     + '_v], s me || '')+ '_v], s ame || '';                       this.snst blob =atts.customance' ? 'aay]
 kew];                       this.snst stomanc                          this.snst nst .keys(t
    smanc rh(classIv    {sstomv○' ? '�)rvisiborVisibs++ r                      
           
             });
            
             });
          }                 if (qu              });
                
     blob =visiborRe '大ue;visiborVisibsu* �か             let fiラ総スの生海僻総をプ海           let filter= t[tC || [];e;0;           Objectlter= t[tSs = this.s0            const .keys(this.scheduleData)) {
 s
  {}ach(day => {
                    this.sstom {
  s.s�ント': []
 rn;
                try {
.memcustome || [];e;cheduleData[day]
     ;
                    this.so t[tC || [];+= e || []r > 0)             return.memc || []rh(classInls    {r= t[tSs = this+= Inlsnts = this
    )r > 0)  u              });
                 returncustom'ow Date();
                const birth iff =| ''No', '1月'道2月'道3月'道4月'道5月'道6月'道7月'道8月'道9月'道10月'道11月'道12月'              //  �� filter                <div style                          <ass="nav-sep
   s.join                         <div class                            <h1>POSS2/span>
S2/                           <p style="sidebarubtitle"</h1>
 ColossA</p>
  外禂要                           </div>
                            <nav>
 ass="nav-seitFi-badge                             <h1>POSdth="20" he="6"="18" rx=6Box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><path d                                      .c'owllYear();
    }年${iff =| ''N['owllYe);
    ]}                       </div>
                            <n
                               <ass="nav-se ===-grid                         <div class="sidebar===-card"                            <div class="nav-ser===-ibir b                                    <svg width=x="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
                                  div>
                            <nav>
iv class="nav-ser===->スケ総管理海
                            <nav>
iv class="nav-ser===-
    ">${= t[t}出�="nav-ser===-unit">名>
     
                            <nav>
                             <nav>
 ass="nav-ser===-card"                            <div class="nav-ser===-ibir green                                 <svg width=x="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v22 11.08V12a5"/1 24"11-5.93-9.2svg>
=e points="9 22 922 4"/2"/4.0115 11.01vg>
                                  div>
                            <nav>
iv class="nav-ser===->スケ中', cou
                            <nav>
iv class="nav-ser===-
    "="text-t '#16Av   --green);">${' : ''Count}出�="nav-ser===-unit">名>
     
                            <nav>
                             <nav>
 ass="nav-ser===-card"                            <div class="nav-ser===-ibir or stu                                 <svg width=x="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d cx="9" cy=127" r="127"r><path d1="16" y1=010" x2=516" y2=010"/><9th d1="16" y1=410" x2=516" y2=410"/><9th d                                  div>
                            <nav>
iv class="nav-ser===->スケ中')
   
                            <nav>
iv class="nav-ser===-
    "="text-t '#16Av   --or stu);">${pausedCount}出�="nav-ser===-unit">名>
     
                            <nav>
                             <nav>
 ass="nav-ser===-card"                            <div class="nav-ser===-ibir red                                 <svg width=x="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d cx="9" cy=127" r="127"r><path d1="16" y1=510" x2916" y2910"/><p5th d1="16" y1910" x2916" y2=510"/><p5th d                                  div>
                            <nav>
iv class="nav-ser===->スケ倀', '��'�
                            <nav>
iv class="nav-ser===-
    "="text-t '#16Av   --ransfsebirdary);">${withdrawnCount}出�="nav-ser===-unit">名>
     
                            <nav>
                             <n
                               <ass="nav-sefilce't-grid                         <div class="sidebafilce't-card"                            <div class="nav-secard s.join                         <div c  <h1>POSS3="nav-secard title"<ス', '�別内訳（中', cou）>
S3                                <span>出�="nav-secard alabel" on);
  ="apprtTab === '= ers' ? 'ac;appr();
  (  ">詳細 →>
                                </button                           <nav>
iv c${.keys(this.s[|| '' suthi)r > 0) {
   ?                       this.snst nst .keys(tendries([|| '' suthi)ra, b) =>{
                        const           const birth o 'asc';{�４':0,�4':0,�３':1,�3':1,�２':2,�2':2,�１':3,�1':3};                   const           const  filter(o 'as[a[0]]||9rth.(o 'as[b[0]]||9r;                   const           co})c, i) [, c.annuasuth])    {                   co              const docRefprice = e|| ''Prices[, c.an] 
  0;                   co              const docRefrubt t[thisprice *uasuth            });
    co              const docRef '#16 = e|| '' stros[, c.an] 
  'v   --ransfsebirdary)';                   const           const  filter`                   const           const iv class="nav-sere '大-row                         <div c  <h1>PO      <span>出�="nav-sere ->スケ出�="nav-sere -dot"="text-tbackgrsutd:${ '#16} ">>
     ス', '�irst c.an}>
                                </butt          <div class                            <h1>PO          const iv class="nav-sere -amsuth">¥${rubt t[terCascale().split}on                           <nav>
iv c          const iv class="nav-sere -detail">¥${priceerCascale().split} ×irst cnt}名>
                           <nav>
iv c          const >
                           <nav>
iv c          co>
                           <nav>
iv c        `;                   const           co})c\n');
                     };
           : 'le="text-t '#16Av   --ransfsebirdary);filc-size:14ance タがない堂せん');
      '}                       <nav>
iv c${.keys(this.s[|| '' suthi)r > 0) {
   ?r`                   const           colass="nav-sere '大-t t[t                         <div c  <h1>PO    出�="nav-sere ->スケ月謝合計>
                                </butt        出�="nav-sere -amsuth">¥${= t[tRe '大erCascale().split}on                                </butt    >
                           <nav>
iv c`">
                          <nav>
                              <div class                            <h1>POSass="nav-sevisibor-highl18" "="text-tmargin-bot' ?:20p                       <aside      <h1>POSass="nav-sevh">スケビ）']�',
売上界N��月）>
                           <nav>
iv c    Sass="nav-sevh"
    ">¥${visiborRe '大erCascale().split}on                           <nav>
iv c    Sass="nav-sevh"detail">${visiborVisibs}回 ×i¥2,000界N��テ   
                            <nav>
iv cl                            <nav>
iv class="nav-sefilce't-card"                            <div civ class="nav-secard s.join                         <div c  <h1>PO1>POSS3="nav-secard title"<N��月外禂要  S3                                <span>�n                           <nav>
iv c    Sass="nav-sere '大-row                         <div c  <h1>PO    出�="nav-sere ->スケ総スの生海>
                                </butt        出�="nav-sere -amsuth">${= t[tC || []}on                                </butt    >
                           <nav>
iv c    Sass="nav-sere '大-row                         <div c  <h1>PO    出�="nav-sere ->スケ総をプ海（件べ   
                                 </butt        出�="nav-sere -amsuth">${= t[tSs = thi}on                                </butt    >
                           <nav>
iv c    Sass="nav-sere '大-row                         <div c  <h1>PO    出�="nav-sere ->スケ線', col売上>
                                </butt        出�="nav-sere -amsuth">¥0on                                </butt    >
                           <nav>
iv c
                            <nav>
                             <n
                        <n
                      `        }
            render() {
 ers();
   edCustomers = thi  {           const today getS, bIbir = ) {
                       this.sstomortField === field) {
     filterortOrder === 'asc' ? 'desc' ▲}">
 ▼'                return;
    
 ⬍             }
     ;           //  �� filter                <div style                          <ass="nav-sep
   s.join                         <div class                            <h1>POSS2/管理</span>
S2/                           <p style="sidebarubtitle"<N��テ情報外N��覧と</span>
                         </div>
                            <nav>
 ass="display:flex;">
   gap:10p                       <aside      <hn id="attende) {
 Btns="nav-itbtnlbtnfsebirdary                                 <svg width="20" he="6"="18" rx=6Box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="M17 21v21 15v4 01-2 2H5a2 2 0 01-2-2z"/><pv-svg>
=e points="9 22 97/1 212 15 27/1 th d1="16" y1=210" x2=516" y2=210"/><3th d                                    <span>CSV                           </button>
                                <button id="attendhogglem = falBtns="nav-itbtnlbtnfprimary                                 <svg width="20" he="6"="18" rx=6Box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x1="16" y1=210" x2516" y2=210"/><19th d1="16" y1510" x21"16" y2=910"/><psvg>
                                    <span>.currendForm = fals?��フギ場傱を閉じる}">
 新規名', '}                       <nav>
iv con>
                                <b</                           <n
                               <ass="nav-setab-nav                         <div cl id="attend === t-中', cou"="nav-setab-btnl.currendilter &&
   =s.s�中', courtive' : ''}">
     中', cou (.currentTs.filter(c => 
     us === this.s�中', cour)r > 0) })on>
                                <b< id="attend === t-中')
   "="nav-setab-btnl.currendilter &&
   =s.s�中')
    tive' : ''}">
     中')
    (.currentTs.filter(c => 
     us === this.s�中')
     r > 0) })on>
                                <b< id="attend === t-倀', '��'�"="nav-setab-btnl.currendilter &&
   =s.s�倀', '��'保tive' : ''}">
     倀', '��'� (.currentTs.filter(c => 
     us === this.s�倀', '��'保 r > 0) })on>
                              
                               <ass="nav-se erm.t-                            <div cldth="20" he=ght="18" rx="2"x="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d cx="9" cy=117" r="117"r><8th d1="16" y1="10" y1="10" y2=".6510"/><p".651g>
                                  <input 'tex-trans"ttend erm.tInput" pla eholoin="番号を入倁を入倁ス', '�倁番号', '�倁ル', '�で検索...";
    =".currenderm.toLow                            
                               .currendForm = fals?�ender();
  a = fal   :
                          <nlass="nav-sefilce't-card"="displapadc.me:0;overflow:hid= t;"                        <nav>
 ass="displaoverflow-x:auto                      <aside      <hn able                                <svg wits.jo                            </butt        �tr                        <nav>
iv c          co>M17"displa"2"><:50p  padc.me-left:20p    No</th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="Number || ''"7"displa"2"><:80p    番号を入出�="nav-serer -ibir">${getS, bIbir('Number || '' t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    =" === t"7"displa"2"><:100p    ータス', '�出�="nav-serer -ibir">${getS, bIbir(': data t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="[|| ''"7"displa"2"><:80p    ス', '�出�="nav-serer -ibir">${getS, bIbir(' || '' t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="Fee,
    "7"displa"2"><:110p    費更新日', '�出�="nav-serer -ibir">${getS, bIbir('Fee,
     t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="me || ''"7"displa"2"><:140p    を入出�="nav-serer -ibir">${getS, bIbir('me || '' t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="g || ''"7"displa"2"><:140p    ', '�出�="nav-serer -ibir">${getS, bIbir('g || '' t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="anName, c.ha"7"displa"2"><:110p    者名', '�出�="nav-serer -ibir">${getS, bIbir('anName, c.ha t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="noName, c.ge"7"displa"2"><:110p    モノ登録名', '�出�="nav-serer -ibir">${getS, bIbir('noName, c.ge t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="a);
  "7"displa"2"><:60p    �, '�出�="nav-serer -ibir">${getS, bIbir('a);
   t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="ate), c.p"7"displa"2"><:110p    月日', '�出�="nav-serer -ibir">${getS, bIbir('ate), c.p t}on     </th                        <nav>
iv c          co>M17"displa"2"><:60p    ', '�</th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    =" || ''"7"displa"2"><:130p    番号', '�出�="nav-serer -ibir">${getS, bIbir(' || '' t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="|| ''"7"displa"2"><:200p    ル', '�出�="nav-serer -ibir">${getS, bIbir('|| '' t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="te,
    "7"displa"2"><:110p    藥', '�出�="nav-serer -ibir">${getS, bIbir('te,
     t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    =" ode, c.pr"7"displa"2"><:100p    番号', '�出�="nav-serer -ibir">${getS, bIbir(' ode, c.pr t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    =" ure, c.ci"7"displa"2"><:90p    畜県', '�出�="nav-serer -ibir">${getS, bIbir(' ure, c.ci t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="[ity"7"displa"2"><:110p    蔺村', '�出�="nav-serer -ibir">${getS, bIbir(' ity t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="F, c.bu"7"displa"2"><:140p    ', '�出�="nav-serer -ibir">${getS, bIbir('F, c.bu t}on     </th                        <nav>
iv c          co>M17"nav-se er able-s.join" Save-
    ="ag, c.me"7"displa"2"><:140p    ・部屋番号', '�出�="nav-serer -ibir">${getS, bIbir('ag, c.me t}on     </th                        <nav>
iv c          co>M17"displa"2"><:300p    '];
  </th                        <nav>
iv c          co>M17"displa"2"><:100p    操作</th                        <nav>
iv c        </tr                            </butt    >
ts.jo                            </butt    <tbody                        <nav>
iv c        ${f Customers = thic, i) => [
    ender();
  ers();
 Row => [c.me))c\n');
  }                           </butt    >
tbody                        <nav>
iv c>
table                              
                            <nav>
 ass="displapadc.me:16px 24ancfilc-size:13anc '#16Av   --ransfsebirdary);bo 'as-top:1px solid v   --bo 'as)                      <aside      <h.currendilter &&
  }: ${f Customers = thic > 0) }'�                       <nav>
                             <n
                        <n
                      `        }
            render() {
 a = fal   {           //  �� filter                <div style="nav-sefilce't-card"="displamargin-bot' ?:24ancbackgrsutd:rgba(0,113,227,0.03);bo 'as:2px solid rgba(0,113,227,0.1)                      <asidelass="nav-secard s.join                         <div cSS3="nav-secard title"<新規管理<��',   S3                                                       <n
ass="display:flex;"grid;grid-rampe(c.- '#umns:repeat(4,1fs) gap:16px;margin-bot' ?:20p                       <aside    lass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    番号を入 *</>ス�><input 'tex-trans"ttendnew_Number || ''"7"nav-seower-input" "displa"2"><:100%;" pla eholoin="羋: 0001">
                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    番号ータス', '��/>ス�><Ten(dbttendnew_ === t"7"nav-seower-input" "displa"2"><:100%;"><opabel;
    ="中', cou"�中', cou
 opabel><opabel;
    ="中')
   "�中')
   
 opabel><opabel;
    ="倀', '��'�"�倀', '��'�
 opabel></Ten(db>
                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    ス', '��/>ス�><Ten(dbttendnew_[|| ''"7"nav-seower-input" "displa"2"><:100%;"><opabel;
    =""�偸択してください
 opabel><opabel;
    ="ビ）']�',
��ビ）']�',

 opabel><opabel;
    ="１">１
 opabel><opabel;
    ="２">２
 opabel><opabel;
    ="３">３
 opabel><opabel;
    ="４">４
 opabel></Ten(db>
                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    費更新日', '��/>ス�><input 'tex-td   "7tendnew_Fee,
    "7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    を入(姓) *</>ス�><input 'tex-trans"ttendnew_me || ''"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    を入(名) *</>ス�><input 'tex-trans"ttendnew_ame || ''"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    ', '��/>ス�><input 'tex-trans"ttendnew_g || ''"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    者名', '��/>ス�><input 'tex-trans"ttendnew_anName, c.ha"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    モノ登録名', '��/>ス�><input 'tex-trans"ttendnew_noName, c.ge"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    �, '��/>ス�><Ten(dbttendnew_a);
  "7"nav-seower-input" "displa"2"><:100%;"><opabel;
    =""�偸択
 opabel><opabel;
    ="男  朷
 opabel><opabel;
    ="女  襳
 opabel></Ten(db>
                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    月日', '��/>ス�><input 'tex-td   "7tendnew_ate), c.p"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    番号', '��/>ス�><input 'tex-tral"7tendnew_ || ''"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass "displagrid- '#umn:���=2;"><>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    ル', '��/>ス�><input 'tex-t|| ''"7tendnew_|| ''"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    藥', '��/>ス�><input 'tex-td   "7tendnew_te,
    "7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    番号', '��/>ス�><input 'tex-trans"ttendnew_ ode, c.pr"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    畜県', '��/>ス�><input 'tex-trans"ttendnew_ ure, c.ci"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    蔺村', '��/>ス�><input 'tex-trans"ttendnew_[ity"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    ', '��/>ス�><input 'tex-trans"ttendnew_F, c.bu"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass <>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    胻部屋番号', '��/>ス�><input 'tex-trans"ttendnew_ag, c.me"7"nav-seower-input" "displa"2"><:100%;"><                            <nav>
 ass "displagrid- '#umn:���=3;"><>ス�="display:flex;"blockcfilc-size:12ancfilc-w"18" :600c '#16Av   --ransfsebirdary);margin-bot' ?:6px;-spacing:1.5px;0.3p    '];
  </>ス�><input 'tex-trans"ttendnew_Numo"7"nav-seower-input" "displa"2"><:100%;"><                            <n                             <n
ass="display:flex;">
   gap:10p                       <aside    < id="attendaomer() {
 Btns="nav-itbtnlbtnfprimary  <��',   >
                                <b< id="attendedit()m =Btns="nav-itbtnlbtnfsebirdary  キャ': [��'��/>
                              
                        <n
                      `        }
            render() {
 ers();
 Row =rs();
 , no  {           const today  === tBadgeC ||  Daers();
 s === this.s�中', courtive === t-badge-' : ''}">
ers();
 s === this.s�中')
    tive === t-badge-paused}">
  === t-badge-withdrawn';           const today ge {
 e ||  Daers();
 sge {
 his.s�朷 tivege {
 -mal'}">
ers();
 sge {
 his.s�襳 tivege {
 -femal'}">
'';           const today ages.customealcue(c.Age =rs();
 .ate), c.p             return           returnstomortFirm.i5pxIfield)=rs();
 .ie                      re filter`                   const <tr="nav-itbo 'as-b hover:bg-gray-50                     <aside    <td="nav-sepx-2 py-3">${no}</td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_Number || ''"7
    =".currenrm.id);
 Number || '';
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><Ten(dbttendeld(_ === t"7"nav-sew-full bo 'as rsutded px-1 py-1 ransfxu"><opabel;
    ="中', cou" .currenrm.id);
  === this.s�中', courtive en(dbed}">
   �中', cou
 opabel><opabel;
    ="中')
   " .currenrm.id);
  === this.s�中')
    tive en(dbed}">
   �中')
   
 opabel><opabel;
    ="倀', '��'�" .currenrm.id);
  === this.s�倀', '��'保tive en(dbed}">
   �倀', '��'�
 opabel></Ten(db>
 td                    <aside    <td="nav-sepx-2 py-3"><Ten(dbttendeld(_[|| ''"7"nav-sew-full bo 'as rsutded px-1 py-1 ransfxu"><opabel;
    =""�偸択
 opabel><opabel;
    ="ビ）']�',
� .currenrm.id);
 [|| ''  s.s�ビ）']�',
 tive en(dbed}">
   �ビ）']�',

 opabel><opabel;
    ="１" .currenrm.id);
 [|| ''  s.s�１'tive en(dbed}">
   �１
 opabel><opabel;
    ="２" .currenrm.id);
 [|| ''  s.s�２'tive en(dbed}">
   �２
 opabel><opabel;
    ="３" .currenrm.id);
 [|| ''  s.s�３'tive en(dbed}">
   �３
 opabel><opabel;
    ="４" .currenrm.id);
 [|| ''  s.s�４'tive en(dbed}">
   �４
 opabel></Ten(db>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-td   "7tendeld(_Fee,
    "7
    =".currenrm.id);
 Fee,
    ;
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_fullc.ge"7
    =".currenrm.id);
 me || '')
    } .currenrm.id);
 ame || '')
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_g || ''"7
    =".currenrm.id);
 g || '')
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_anName, c.ha"7
    =".currenrm.id);
 anName, c.ha)
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_noName, c.ge"7
    =".currenrm.id);
 noName, c.ge;
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><Ten(dbttendeld(_a);
  "7"nav-sew-full bo 'as rsutded px-1 py-1 ransfxu"><opabel;
    =""�-
 opabel><opabel;
    ="男  .currenrm.id);
 ge {
 his.s�朷 tive en(dbed}">
   �朷
 opabel><opabel;
    ="女  .currenrm.id);
 ge {
 his.s�襳 tive en(dbed}">
   �䥳
 opabel></Ten(db>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-td   "7tendeld(_ate), c.p"7
    =".currenrm.id);
 ate), c.p;
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3 ransfcentin  .currentalcue(c.Age urrenrm.id);
 ate), c.p)}</td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-tral"7tendeld(_ || ''"7
    =".currenrm.id);
  || '')
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-t|| ''"7tendeld(_|| ''"7
    =".currenrm.id);
 || '')
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-td   "7tendeld(_te,
    "7
    =".currenrm.id);
 te,
    )
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_ ode, c.pr"7
    =".currenrm.id);
  ode, c.pr)
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_ ure, c.ci"7
    =".currenrm.id);
  ure, c.ci)
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_[ity"7
    =".currenrm.id);
 [ity)
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_F, c.bu"7
    =".currenrm.id);
 F, c.bu)
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3"><input 'tex-trans"ttendeld(_ag, c.me"7
    =".currenrm.id);
 ag, c.me;
    }s="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7g>
 td                    <aside    <td="nav-sepx-2 py-3 Numofcelケ�ransag |ttendeld(_Numos="nav-itw-full bo 'as rsutded px-1 py-1 ransfxu"7rowspath .currenrm.id);
 Numo;
    }
 tansag |>
 td                    <aside    <td="nav-sepx-2 py-3"><ass="nav-se>
   >
  - '# gap-1">
 id="attend t() {
 Btn"="nav-setansfgreen-600 hover:tansfgreen-800 ransfxu">保存�/>
     < id="attendedit() {
 Btn"="nav-setansfgray-600 hover:tansfgray-800 ransfxu">キャ': [��'��/>
     < id="atSave-rm[f-alabel="Doc(do" Save-i =".c=rs();
 .ie}"="nav-setansfred-600 hover:tansfred-800 ransfxu">削除�/>
     <     
 td                    <aside</tr                      `            docume        }
      �� filter                <div sttr="nav-itbo 'as-b hover:bg-gray-50                     <aside<td="nav-sepx-2 py-3">${no}</td                    <aside<td="nav-sepx-2 py-3 filc-me, ">${=rs();
 .Number || '';
    }</td                    <aside<td="nav-sepx-2 py-3��出�="nav-sepx-2 py-1 rsutded ransfxu filc-semibold .c === tBadgeC || }">${=rs();
 . === th
    }</     </td                    <aside<td="nav-sepx-2 py-3">${=rs();
 .[|| '' 
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .Fee,
    ;
    }</td                    <aside<td="nav-sepx-2 py-3 filc-mrm[um��${=rs();
 .me || '')
    } .c=rs();
 .ame || '')
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .g || '')
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .anName, c.ha)
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .noName, c.ge;
    }</td                    <aside<td="nav-sepx-2 py-3 ransfcentin ${ge {
 e || }">${=rs();
 .ge {
 h
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .ate), c.p;
    }</td                    <aside<td="nav-sepx-2 py-3 ransfcentin">${'ge}</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 . || '')
    }</td                    <aside<td="nav-sepx-2 py-3 || ''fcelケ${=rs();
 .|| '')
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .te,
    )
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 . ode, c.pr)
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 . ure, c.ci)
    }</td                    <aside<td="nav-sepx-2 py-3">${=rs();
 .[ity)
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .F, c.bu)
    }</td                    <aside<td="nav-sepx-2 py-3��${=rs();
 .ag, c.me;
    }</td                    <aside<td="nav-sepx-2 py-3 Numofcelケ${=rs();
 .Numo;
    }</td                    <aside<td="nav-sepx-2 py-3��� id="atSave-rm[f-alabel="de,rt" Save-i =".c=rs();
 .ie}"="nav-setansfb   -600 hover:tansfb   -800 ransfxu">編集�/>
     < td                    <a</tr                  `        }
            renderrer Ss = thiBylass(ts = thi  {           //  �� filterts = thida, b) => {
                        coラプの烳入傒正規化（丨觗海字傒半觗に変換）           try {
.memcustomn);
alizelass = )'1�)    {                   co     filter'1�.repla e(/[０-９]/g, (s)    ().spl.fromCharc.pr(s.charc.prAt(0rth.0xFEE0)                 if (qu                 if (qu           try {
.memcustom'1�A Dat);
alizelass(a.'1�);           try {
.memcustom'1�B Dat);
alizelass(b.'1�);           try {
.mem           try {
.memcustomo 'asAs.custom'1�=== '['1�A] 
  999;           try {
.memcustomo 'asBs.custom'1�=== '['1�B] 
  999;           try {
.mem filtero 'asAs-mo 'asB            });
                
         renderラ月謝プの烳（毎月引き継ぐ）かどうかを判定       renderisRegularlass)'1�) {           const today regularlassNo', '1スの生'道１スの生'道2スの生'道２スの生'道3スの生'道３スの生'道4スの生'道４スの生'道1.5hスの生'];           //  �� filterregularlassNdes(s))
  '1�);           tr        renderラ偸択された管理情報外表示外み傒日',        renderupd   Sen(dbeders();
 Info(  {           const today  en(dbedInfoCilcainasc';docum thllYeElem thById(e en(dbeders();
 Info'             const birth '1�Sen(dbc';docum thllYeElem thById(enew_ = = th_'1�'             const birth n.geInputCilcainasc';docum thllYeElem thById(en.geInputCilcainas'             const birth '1�Sen(dbCilcainasc';docum thllYeElem thById(e'1�Sen(dbCilcainas'             return           returnstom! en(dbedInfoCilcainasrn;
                try {
           returnstomortFi en(dbeders();
 ForSs = th                      re en(dbedInfoCilcainasdesnasHTMLc';`                   <asidelass="nav-semb-3 p-3 bg-green-50 bo 'as-2 bo 'as-green-400 rsutded ransfsm                         <div class="sideba>
   itemsfcentin jrs(ify-between                                 <s<                           <nav>
iv c    Sass="nav-sefilc-bold tansfgreen-800">✓�偸択中:h.currenden(dbeders();
 ForSs = th.me || ''}h.currenden(dbeders();
 ForSs = th.ame || ''}on                           <nav>
iv c    Sass="nav-seransfxu tansfgray-700 mt-1">                       <nav>
iv c        ${urrenden(dbeders();
 ForSs = th.Number || '';? `番号を入: ${urrenden(dbeders();
 ForSs = th.Number || ''} |c`">
                          <nav>
iv c        ${urrenden(dbeders();
 ForSs = th.g || '')? `', '�: ${urrenden(dbeders();
 ForSs = th.g || ''} |c`">
                          <nav>
iv c        ス', '�: ${urrenden(dbeders();
 ForSs = th.[|| '' 
   なし'}                           </butt    >
                           <nav>
iv c
                            <nav>
  <b< id="at                           </butt    tendelearSen(dbeders();
 "                           </butt    "nav-setansfred-600 hover:tansfred-800 ransfxu utder1="1">                       <nav>
iv c    偸択解除                       <nav>
iv con>
                                <b</                           <n
                          `            docume.mem           try {
.memラ姓入入力欄を非表示               this.sstomn.geInputCilcainas) {                   co    n.geInputCilcainas."nav-List.F, ('hid= t'r;                   const n.geInputCilcainas."nav-List.rumove(' |lng:1n-2'道grid'道grid- '#s-2'道gap-3'r;                   co}           docume.mem           try {
.memラプの烳[��'�スえ外ー�, '�'�を調整               this.sstom'1�Sen(dbCilcainas) {                   co    '1�Sen(dbCilcainas."nav-List.F, (' |lng:1n-3'r;                   co}           docume.mem           try {
.memラ偸択解除ボ']�',�外ヤベ',�偈傒再設定       renderrrrrrrrrdocum thllYeElem thById(eelearSen(dbeders();
 ')?.F, Ev thListenas(eelick'�()    {                   co    urrenden(dbeders();
 ForSs = th Datull;                   co    urrends = thSerm.toLow Da'';                   co    urrends = thSerm.tResultNo', ];                   co    urrenupd   Sen(dbeders();
 Info( ;                   co    ラ検索入力欄をスなア                   co    today  erm.tInputc';docum thllYeElem thById(e = = th_ erm.t_input'r;                   const stom erm.tInput)  erm.tInput.
     Da'';                   co    ラ検索結果をスなア                   co    urrenupd   Serm.tResultN( ;                   co    ラプの烳[��なセ'�偈                   const stom'1�Sen(db) '1�Sen(db.
     Da'';                   co});           docume.mem           try {
.memラプの烳[��自動設定       renderrrrrrrrrstom'1�Sen(db && urrenden(dbeders();
 ForSs = th.[|| '') {                   co    docRef '| ''Mapc';{�１':��１スの生'道２':��２スの生'道３':��３スの生'道４':��４スの生'};                   const birth '1�V     Da '| ''Map[urrenden(dbeders();
 ForSs = th.[|| ''] 
  '';                   const stom'1�V    ) '1�Sen(db.
     Da'1�V    ;                   co}           docume} el''                     re en(dbedInfoCilcainasdesnasHTMLc';'';                   co           try {
.memラ姓入入力欄を表示               this.sstomn.geInputCilcainas) {                   co    n.geInputCilcainas."nav-List.rumove('hid= t'r;                   const n.geInputCilcainas."nav-List.F, (' |lng:1n-2'道grid'道grid- '#s-2'道gap-3'r;                   co}           docume.mem           try {
.memラプの烳[��'�スえ外ー�, '�'�を元に戻す               this.sstom'1�Sen(dbCilcainas) {                   co    '1�Sen(dbCilcainas."nav-List.rumove(' |lng:1n-3'r;                   co}           docume}           
         renderラ検索結果㤖み傒日', （フギ場傫ー�,�維持）           trupd   Serm.tResultN(  {           const today resultNCilcainasc';docum thllYeElem thById(e erm.tResultNCilcainas'             returnstom!resultNCilcainasrn;
                try {
stomortFi s = thSerm.tResultNr > 0) {
                        re fsultNCilcainasdesnasHTMLc';`                   <asidelass="nav-semt-2 bo 'as rsutded bg-whiterts = th- erm.t- fsultN shadow-lg">                       <nav>
.currendi = thSerm.tResultNr, i)=rs();
     `                       <nav>
iv class=                       <nav>
iv c    Save- en(db-=rs();
 -i =".c=rs();
 .ie}"                           </butt    "nav-se en(db-=rs();
 -btnlp-2 hover:bg-b   -50 c| 'or-="9 2
  bo 'as-b me |:bo 'as-b-0 ransfsm transiabel"                        <nav>
iv c    Sass="nav-sefilc-mrm[um tansfb   -600">                       <nav>
iv c        ${=rs();
 .me || ''} .c=rs();
 .ame || ''}                       <nav>
iv c        ${=rs();
 .Number || '';? `出�="nav-seransfxu tansfgray-500 ml-2">[${=rs();
 .Number || ''}]</     `">
                          <nav>
iv c    on                           <nav>
iv c    Sass="nav-seransfxu tansfgray-600 mt-1">                       <nav>
iv c        ${=rs();
 .g || '')? `', '�: ${=rs();
 .g || ''}`">
                          <nav>
iv c        ${=rs();
 .g || '')&& =rs();
 .[|| '' ? '   '">
                          <nav>
iv c        ${=rs();
 .[|| '' ? `ス', '�: ${=rs();
 .[|| ''}`">
                          <nav>
iv c    on                           <nav>
iv con                           <nav>
`)c\n');
  }                         
                          `            docume.mem           try {
.memラ検索結果㤖スな��傹ヤベ',�偈傒再設定       renderrrrrrrrr fsultNCilcainasdquerySen(dborAll('. en(db-=rs();
 -btn').forEach(btnl   {                   co    btn.F, Ev thListenas(eelick'�()    {                   co        docRef rs();
 Idc';btn.lYeAttribute('Save- en(db-=rs();
 -i 'r;                   const     docRef rs();
 s.customeTs.filter(cnd
     usifield)=rs();
 Idr;                   const     stom=rs();
 ) {                   co            urrenden(dbers();
 ForSs = thm=rs();
 );                   const     }                         });           docume.mem});           docume} el'' stomortFi s = thSerm.toLow.trim()                      re fsultNCilcainasdesnasHTMLc';`                   <asidelass="nav-semt-2 p-2 bg-yellow-50 bo 'as bo 'as-yellow-200 rsutded ransfxu tansfyellow-800">                       <nav>
⚠️ 該当する管理が見つか゛ん');
  でした                         
                          `            docume} el''                     re fsultNCilcainasdesnasHTMLc';'';                 }           
         renderラひらがな→傫ヿ傫ナ変換       renderhiraganaToKavekana(str  {           //  �� filtertsr.repla e(/[\u3041-\u3096]/g, (match)    {                   codocRef h s.cmatch.charc.prAt(0rt+ 0x60;           try {
.mem filter().spl.fromCharc.pr( h )            });
                
         renderラ傫ヿ傫ナ→偲らがな変換       renderkavekanaToHiragana(str  {           //  �� filtertsr.repla e(/[\u30a1-\u30f6]/g, (match)    {                   codocRef h s.cmatch.charc.prAt(0rt- 0x60;           try {
.mem filter().spl.fromCharc.pr( h )            });
                
         renderラ管理検索機能（伷化版）           tr erm.ter() {
 By| ''(derm.toLow  {           const today tLow Daserm.toLow.toLowerCase().trim()            returnstom!tLow  {           const .mem filter ];                 }           try {
           returnラひらがな・傫ヿ傫ナ両方で検索できるように           const today tLowHiraganas.customkavekanaToHiragana(tLow ;           const today tLowKavekanas.customhiraganaToKavekana(tLow ;           const            //  �� filterurrentTs.filter(c => 
                         coラを入（䧓入別々・僕ルネ場傱）           try {
.memcustomme || '')=om=.me || '')
    ).toLowerCase();           try {
.memcustomame || '')=om=.ame || '')
    ).toLowerCase();           try {
.memcustomaullc.gec';`${me || ''}${f e || ''}`;           try {
.memcustomaullc.geWithSpa ec';`${me || ''} ${f e || ''}`;           try {
.mem                   coラ', '�（ひらがな・傫ヿ傫ナ両対応）           try {
.memcustomg || '')=om=.g || '')
    ).toLowerCase();           try {
.memcustomg || ''Hiraganas.customkavekanaToHiragana(g || '');           try {
.memcustomg || ''Kavekanas.customhiraganaToKavekana(g || '');           try {
.mem                   coラ番号を入           try {
.memcustomNumber || '';=om=.Number || '';
    ).toLowerCase();           try {
.mem                   coラ'��数㤖条件で検索           const .mem filterme || ''des(s))
  tLow  ||                       <nav>f e || ''des(s))
  tLow  ||                       <nav>fullc.gedes(s))
  tLow  ||                       <nav>fullc.geWithSpa edes(s))
  tLow  ||                       <nav>g || ''des(s))
  tLow  ||                       <nav>g || ''des(s))
  tLowHiragana  ||                       <nav>g || ''des(s))
  tLowKavekana  ||                       <nav>g || ''Hiraganades(s))
  tLow  ||                       <nav>g || ''Hiraganades(s))
  tLowHiragana  ||                       <nav>g || ''Kavekanades(s))
  tLow  ||                       <nav>g || ''Kavekanades(s))
  tLowKavekana  ||                       <nav>Number || ''des(s))
  tLow             });
    .slice(0, 10);rラ最大10件こ')�表示                     renderラ管理を選択して月澒情報傒自動入力
          re en(dbers();
 ForSs = thm=rs();
 )                   urrenden(dbeders();
 ForSs = th Da=rs();
 ;
          co    urrends = thSerm.tResultNo', ];                 urrends = thSerm.toLow Da`${=rs();
 .me || ''} .c=rs();
 .ame || ''}`;           try {
           returnラ検索入力欄を日',        render    today  erm.tInputc';docum thllYeElem thById(e = = th_ erm.t_input'r;                 stom erm.tInput)                     re erm.tInput.
     Daurrends = thSerm.toLow;                 }           try {
           returnラ検索結果をスなア                 urrenupd   Serm.tResultN( ;                 
      try {
.memラ偸択された管理情報傒表示               thurrenupd   Sen(dbeders();
 Info( ;             }           trasync addSs = thToe || (day, locaabel,="nav-| '')                   urrenden(dbedenav-ForAddc';{ day, locaabel,="nav-| ''u                 ifurrendForm =Ss = th falsDaur  ;                 urrenden(dbeders();
 ForSs = th Datull;                 urrends = thSerm.toLow Da'';                 urrends = thSerm.tResultNo', ];                 urren() {
 ( ;             }           trasync  t()NewSs = thm)                   leomme || '',>f e || '', '1�;                 
      try {
.memラ审理が偸択されている場合           returnstomortFi en(dbeders();
 ForSs = th                      reme || '')=ourrenden(dbeders();
 ForSs = th.me || '';           try {
.memame || '')=ourrenden(dbeders();
 ForSs = th.ame || '';           try {
.mempass = docum thllYeElem thById(enew_ = = th_'1�' ?.
     
  '';                 } el''                     reme || '')=odocum thllYeElem thById(enew_ = = th_me || '' t?.
     
  '';                 .memame || '')=odocum thllYeElem thById(enew_ = = th_ame || '' t?.
     
  '';                 .mempass = docum thllYeElem thById(enew_ = = th_'1�' ?.
     
  '';                 }           returnstom!me || '')
  !ame || '')
  !'1�) {           const   tralert('䧓入とプの烳[��入力してください'r;                   co;
                try {
}       render    today { day, locaabel,="nav-| ''u )=ourrenden(dbedenav-ForAdd;           const today "nav-I {
x)=ourrendcheduleDave[day]r(cndI {
x
     uslocaabelield)locaabeli&& =.n '')=ld)=nav-| '');
           returnstom"nav-I {
x)!ld)-1)                     coラ㗆にー�,�）'��', '�に存在するかチェ��傹           try {
.memcustomexistNo',urrendcheduleDave[day]["nav-I {
x].ts = thida,me(                       <ns    s.me || '')eld)le || '')&& s.ame || '')eld)ame || ''                     );
           returnturnstom!existN) {                   co    ラ㖰規追加                   co    urrendcheduleDave[day]["nav-I {
x].ts = thidpush({mme || '',>f e || '', '1� });           docume.mem    urrendcheduleDave[day]["nav-I {
x].ts = thio',urrender Ss = thiBylass(urrendcheduleDave[day]["nav-I {
x].ts = thi);           docume.mem    await,urrendt()ScheduleDave(r;                   co}            try {
.memラビ）']�',
等㤖非月謝プの烳㤖場合、当月㤖出席デス', '��プぬ', '�ホルダ', '�作成して表示夕れるようにする           returnturnstom!urrenisRegularlass)'1�)) {                   co    docRefts = thKey Da`${day}_${locaabel}_${=nav-| ''}_${le || ''}${f e || ''}`;           try {
.memturnstom!urrenatt) {dit(Dave[ts = thKey]) {                   co        urrenatt) {dit(Dave[ts = thKey]c';{};                   const     ラFires()reにヂ保存して永続化                   const     await,urrendt()Att) {dit((ts = thKey, { _' : '':aur   });           docume.mem    }                   co}           docume}           
   ifurrendForm =Ss = th falsDafal'';                 urrenden(dbedenav-ForAddc';tull;                 urrenden(dbeders();
 ForSs = th Datull;                 urrends = thSerm.toLow Da'';                 urrends = thSerm.tResultNo', ];                 urren() {
 ( ;               tralert('月澒傒追加しました'             
         renderラ月澒偮編集を開始           rede,rt {
 Ss = thmday, locaabel,="nav-| '',mme || '',>f e || '')                   urrenrm.i5pxSs = th Da{ day, locaabel,="nav-| '',mme || '',>f e || ''u                 ifurren() {
 ( ;             }           trラ月澒情報外保存           trasync  t() {
 Ss = thm  {           const today newPass = docum thllYeElem thById(eeld(_ = = th_'1�' ?.
                returnstom!newPass) {           const   tralert('プの烳[��偸択してください'r;                   co;
                try {
}       render    today { day, locaabel,="nav-| '',mme || '',>f e || ''u o',urrenrm.i5pxSs = th;           const today "nav-I {
x)=ourrendcheduleDave[day]r(cndI {
x
     uslocaabelield)locaabeli&& =.n '')=ld)=nav-| '');
                
      try {
.memstom"nav-I {
x)!ld)-1)                     codocRefts = thI {
x)=ourrendcheduleDave[day]["nav-I {
x].ts = thid(cndI {
x
                       <ns    s.me || '')eld)le || '')&& s.ame || '')eld)ame || ''                     );
          try {
.mem                   costom s = thI {
x)!ld)-1)                     co    urrendcheduleDave[day]["nav-I {
x].ts = thi[ s = thI {
x].pass = newPass;           docume.mem    urrendcheduleDave[day]["nav-I {
x].ts = thio',urrender Ss = thiBylass(urrendcheduleDave[day]["nav-I {
x].ts = thi);           docume.mem    
              const     ラFires()reに保存           trcume.mem    await,urrendt()ScheduleDave(r;                   co}           docume}           
   ifurrenrm.i5pxSs = th Datull;                 urren() {
 ( ;               tralert('月澒情報傒日', しました'             
         renderラ月澒偮削除           trasync Doc(doSs = thmday, locaabel,="nav-| '',mme || '',>f e || '')                   stom!docf em(`${me || ''} ${f e || ''} [��削除してもよろしいですか？`)  {           const .mem filte            try {
}       render    today "nav-I {
x)=ourrendcheduleDave[day]r(cndI {
x
     uslocaabelield)locaabeli&& =.n '')=ld)=nav-| '');
                
      try {
.memstom"nav-I {
x)!ld)-1)                     courrendcheduleDave[day]["nav-I {
x].ts = thio',urrendcheduleDave[day]["nav-I {
x].ts = thid(c => 
                       <ns    !(s.me || '')eld)le || '')&& s.ame || '')eld)ame || '')                     );
          try {
.mem                   coラFires()reに保存           trcume.memawait,urrendt()ScheduleDave(r;                 }
      try {
.memラ出席デス', '��削除           tr    docRefts = thKey Da`${day}_${locaabel}_${=nav-| ''}_${le || ''}${f e || ''}`;           try {
customNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                 try {           const   trawait,Doc(doDoc(doc(db, `att) {dit(_${NonthKey}`,fts = thKey));           docume} catch (error)                     codocRoleslog('出席デス', '��削除エの烼（デス', '��存在しない可能性があ゛ん')�）'r;                 }
      try {
.memawait,urrenloadAtt) {dit(();                 urren() {
 ( ;               tralert('月澒傒削除しました'             
         rendertalcue(c.Visi()rRevenuem)                   leomrevenue Da0;           try {
customNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                                  Obj(db.keys(urrenatt) {dit(Dave).forEach(key D  {                   codocRefatt) {dit( Daurrenatt) {dit(Dave[key];           try {
.memcustomweekNo', 'week1'道week2'道week3'道week4'道week5'];
          try {
.mem                   coweekN.forEach(week    {                   co    stomatt) {dit([week]his.s�○') {                   co        ラkeyからプの烳情報傒取得する必要があるため、dcheduleDaveから検索           const .memy {
.memcustomp,rtNo',key.split('_'r;                   const     docRefday Da',rtN[0];                   const     docReflocaabeliea',rtN[1];                   const     docRef"nav-| ''uea',rtN[2];                   const     docRefts = th| ''uea',rtN.slice(3)c\n');
_'r;                   const                        const     docRef"nav-Daveo',urrendcheduleDave[day]?r(cnd
     uslocaabelield)locaabeli&& =.n '')=ld)=nav-| '');
                  const     docRefts = th =f"nav-Dave?.ts = thid(cnd(s    `${s.me || ''}${s.f e || ''}`)=ld)ts = th| ''r;                   const                        const     ラビ）']�',
、体験、無料プの烳㤖み売丛カ計丛                   const     stomts = th && mts = th.passdes(s))
  �ビ）']�',
   || ts = th.passdes(s))
  �体験   || ts = th.passdes(s))
  �無料'))) {                   co            stomortFipri.5px[ts = th.pass]) {                   co            .mem fvenue +.custom'ri.5px[ts = th.pass];                   co            }                   const     }                         }           docume.mem});           docume} ;           const            //  �� filter fvenue            
         renderラ淴習会'��売丛計算       rendertalcue(c.Pr' : ceRevenuem)                   leomtotalP,rti.5pathio',0;           try {
customweekNo', 'week1'道week2'道week3'道week4'道week5'];
          try {
docRefdetailsc';{};                 ['', '��日'道木'��日'].forEach(day D  {                   codocRefkey Da`淴習会_${day}`;           try {
.memcustomdaveo',urrenatt) {dit(Dave[key];           try {
.memleomdayTotalo',0;           try {
    stomdave) {                   co    weekN.forEach(week    {                   co        docRef"outh =f',rseIthmdave[week]  || 0;                   co        dayTotalo+=f"outh;                         });           docume.mem}       renderrrrrrrrrdetails[day] = dayTotal;           docume.memtotalP,rti.5pathio+= dayTotal;           docume});           docume filter{a',rti.5pathi:mtotalP,rti.5pathi,r fvenue:mtotalP,rti.5pathi * 500,fdetailsc}            
         renderラ詳細売丛計算（丨傫テゴリ別）           trtalcue(c.DetailedRevenuem)                   docRef"(c.goriesc';{           docume.mem'淴習会':r{a"outh: 0,r fvenue:m0 },           docume.mem'ビ）']�',
（番号）':r{a"outh: 0,r fvenue:m0 },           docume.mem'ビ）']�',
（非番号）':r{a"outh: 0,r fvenue:m0 },           docume.mem'ビ）']�',
1.5h（番号）':r{a"outh: 0,r fvenue:m0 },           docume.mem'ビ）']�',
1.5h（非番号）':r{a"outh: 0,r fvenue:m0 },           docume.mem'月謝スの生振替':r{a"outh: 0,r fvenue:m0 },           docume.mem'初回体験 :r{a"outh: 0,r fvenue:m0 },           docume.mem'初回無料':r{a"outh: 0,r fvenue:m0 }           docume};
      try {
.memラ淴習会           const birth 'r' : ces.customealcue(c.Pr' : ceRevenuem);
          try {
d(c.gories['淴習会']c';{a"outh: 'r' : ce.p,rti.5pathi,r fvenue:m'r' : ce. fvenue };
      try {
.memラビ）']�',
・体験系           try {
customweekNo', 'week1'道week2'道week3'道week4'道week5'];
          try {
Obj(db.keys(urrenatt) {dit(Dave).forEach(key D  {                   costomkey.se,rtsWith('淴習会_'rrn;
     rラ淴習会'��別処理'��'�                   codocRefatt) {dit( Daurrenatt) {dit(Dave[key];           try {
.memweekN.forEach(week    {                   co    stomatt) {dit([week]his.s�○') {                   co        customp,rtNo',key.split('_'r;                   const     docRefday Da',rtN[0];                   const     docReflocaabeliea',rtN[1];                   const     docRef"nav-| ''uea',rtN[2];                   const     docRefts = th| ''uea',rtN.slice(3)c\n')('_'r;                   const     docRef"nav-Daveo',urrendcheduleDave[day]?r(cnd
     uslocaabelield)locaabeli&& =.n '')=ld)=nav-| '');
                  const     docRefts = th =f"nav-Dave?.ts = thid(cnd(s    `${s.me || ''}${s.f e || ''}`)=ld)ts = th| ''r;                   const     stomts = th && d(c.gories[ts = th.pass])!ld)utde(cned) {                   co            birth 'r ces.custom'ri.5px[ts = th.pass] || 0;                   co        y {
d(c.gories[ts = th.pass]."outh++;                   co        y {
d(c.gories[ts = th.pass]. fvenue +.c'r ce;                   const     }                         }           docume.mem});           docume} ;           const  filterd(c.gories            
         renderラ出席簿関連㤖メソ'�偉           trasync loadAtt) {dit(()                   ury {           const   trcustomNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                   trcustomquerySnapshoh =fawait,getDocs(coln(dbbel(db, `att) {dit(_${NonthKey}`)                 if (quurrenatt) {dit(Davec';{};                   coquerySnapshoh.docs.forEach(doc    {                   co    urrenatt) {dit(Dave[doc.id] = doc.dave(r;                   co});           docume} catch (error)                     codocRoleserror('出席デス', ', '�込み储の烼:'�error)                if (quurrenatt) {dit(Davec';{};                 }           
         renderラヤベ',�偈専用㤖出席デス', ', '�込み           trasync loadEv thAtt) {dit(()                   ury {           const   trcustomNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                   trcustomquerySnapshoh =fawait,getDocs(coln(dbbel(db, `fvent_att) {dit(_${NonthKey}`)                 if (quurrenev thAtt) {dit(Davec'; ];                   coquerySnapshoh.docs.forEach(doc    {                   co    customdaveo',doc.dave(r;                   co (quurrenev thAtt) {dit(Davedpush({                   const     sd: doc.id,                   const     ssMumber:mdave.ssMumber || fal'',                   const     ...dave                         });           docume.mem});           documenderラ並び順を保持するため、i {
xでソ'�偈                   courrenev thAtt) {dit(Daveda, b) => {
    (ades{
x)|| 0rt- (bdes{
x)|| 0r);           docume} catch (error)                     codocRoleserror('ヤベ',�偈出席デス', ', '�込み储の烼:'�error)                if (quurrenev thAtt) {dit(Davec'; ];                 }           
         renderラヤベ',�偈出席デス', '��保存           trasync  t() v thAtt) {dit(()                   ury {           const   trcustomNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                   trラ全デス', '��保存（i {
xを追加）           try {
.memfor (leomio',0;mio<ourrenev thAtt) {dit(Daved > 0) ;mi++) {                   co    customdaveo',urrenev thAtt) {dit(Dave[i];                   const birth docIdc';dave.sd)|| `fvent_${    .now()}_${i}`;           try {
.memturnbirth docRefo',doc(db, `fvent_att) {dit(_${NonthKey}`, docId);           docume.mem    await,setDoc(docRef, {                   co        ssMumber:mdave.ssMumber || fal'',                   const     me || '':mdave.me || '')
    ,                   const     f e || '':mdave.ame || '')
    ,                   const     week1:mdave.week1)
   × ,                   const     week2:mdave.week2)
   × ,                   const     week3:mdave.week3)
   × ,                   const     fe':mdave.a  ;
  0,                   const     Numo:mdave.Numo;
    ,                   const     s {
x: i                         });           docume.mem    stom!dave.sd) {                   co        urrenev thAtt) {dit(Dave[i]sifie docId;           docume.mem    }                   co}           docume.memawait,urrenload v thAtt) {dit(();           docume} catch (error)                     codocRoleserror('ヤベ',�偈出席デス', 保存エの烼:'�error)                if}           
         renderラヤベ',�偈参加者を追加           tra, Ev thP,rti.5path()                   urrenrv thAtt) {dit(Davedpush({                   cosd: tull,                   cossMumber:mfal'',                   come || '':m  ,                   cof e || '':m  ,                   coweek1:m × ,                   coweek2:m × ,                   coweek3:m × ,                   cofe':m0,                   coNumo:m''           docume} ;           const urren() {
 ( ;             }           trラヤベ',�偈参加者を削除           trasync Doc(doEv thP,rti.5path(s {
x)                   stom!docf em('こ㤖参加者を削除してもよろしいですか？')  {           const .mem filte            try {
}       render    
      co        customp,rti.5patho',urrenev thAtt) {dit(Dave[i {
x]            returnstomp,rti.5path.sd) {                   coury {           const   tr  trcustomNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                   tr  trawait,Doc(doDoc(doc(db, `fvent_att) {dit(_${NonthKey}`, p,rti.5path.sd));           docume.mem} catch (error)                     co  codocRoleserror('削除エの烼:'�error)                if (qu}           try {
}       render    
      co        urrenev thAtt) {dit(Davedaplice(i {
x, 1 ;               trawait,urrendt() v thAtt) {dit(();           documeurren() {
 ( ;             }           trラヤベ',�偈㤖合計金顥傒計算       rendertalcue(c. v thTotal(  {           //  �� filterurrenev thAtt) {dit(Davedredut(((sum, p
    sum +omp,rseFloat(p.a    || 0), 0);             }           trasync  t()Att) {dit((ts = thId,oweekDave) {                 ury {           const   trcustomNonthKey Daurrenden(dbedMonth.repla e('-'道'r;                   trcustomdocRefo',doc(db, `att) {dit(_${NonthKey}`,fts = thId);           docume.memawait,setDoc(docRef, weekDave, { merg':aur   });           docume.memawait,urrenloadAtt) {dit(();                 } catch (error)                     codocRoleserror('出席デス', 保存エの烼:'�error)                if}           
         rendertoggl)Att) {dit(("nav-Id,oweek)                   docRef"urretho',urrenatt) {dit(Dave["nav-Id]?.[week]h
  '';                 today nexh Da=rrretho's.s�○' ? '×  :a=rrretho's.s�×  ? '休講  :a=rrretho's.s�休講  ? ''">
 ○'            return           returnstom!urrenatt) {dit(Dave["nav-Id])                     courrenatt) {dit(Dave["nav-Id]c';{};                 }           
   courrenatt) {dit(Dave["nav-Id][week]hi nexh;       render    
      co        urren t()Att) {dit(("nav-Id,ourrenatt) {dit(Dave["nav-Id]);           documeurren() {
 ( ;             }           trlYeAtt) {dit(R(c.("nav-Id)                   docRefdaveo',urrenatt) {dit(Dave["nav-Id]c
  {};                 customweekNo', 'week1'道week2'道week3'道week4'] rラ予備週傒除外
              codocRefatt) {efie weekN.fc => 
w    dave[w]his.s�○')d > 0) ;           const today reco 'afie weekN.fc => 
w    dave[w]his.s�○'c
  dave[w]his.s�× )d > 0) ;oラ畑講傒除外
              co filter fco 'afi> 0 ? Math.rsutd((att) {efi/r fco 'af) * 100)">
0            
         renderラ月切り替え機能'��修正           trasync changeMonth(dir(dbbel)                   urrenisLo|| '')=our  ;                 urren() {
 ( ;               tr                 ury {           const   trラ揾在の年月を取得                   trcustom[=rrrethYear,a=rrrethMonth] Daurrenden(dbedMonth.split('- )d, i) || '');
          try {
.mem                   coラ', しい年月を計算       rendery {
.memleomnewYear Da=rrrethYear;       rendery {
.memleomnewMonth Da=rrrethMonth + dir(dbbel;
          try {
.mem                   coラ'��㤖範囲チェ��傹と年外調整               this.sstomnewMonth > 12) {                   co    newMonth Da1;                   co    newYear++;                   co} el'' stomnewMonth < 1) {                   co    newMonth Da12;                   co    newYear--;                   co}           docume.mem           try {
.memラYYYY-MM形式に変換（'��㤯2桁にーロパディ烳[��）           try {
.memurrenden(dbedMonth Da`${newYear}-${().splmnewMonth).padSe,rt(2道0')}`;           try {
.mem                   coawait,urrenloadAtt) {dit(();                 .memawait,urrenload v thAtt) {dit(();           docume} catch (error)                     codocRoleserror('月切り替えエの烼:'�error)                if} finally                     courrenisLo|| '')=ofal'';                     urren() {
 ( ;               tr}           
         renderラ月�,�直接偸択           trasync  en(dbMonth(NonthV    )                   stom!NonthV    ) ;
                try {
           returnurrenisLo|| '')=our  ;                 urrenden(dbedMonth DaNonthV    ;                 urren() {
 ( ;               tr                 ury {           const   trawait,urrenloadAtt) {dit(();                 .memawait,urrenload v thAtt) {dit(();           docume} catch (error)                     codocRoleserror('月偸択エの烼:'�error)                if} finally                     courrenisLo|| '')=ofal'';                     urren() {
 ( ;               tr}           
         renderラヤベ',�偈傹の生追加機能           tra, enav-To v th()                   urrendForm =enav-Form)=our  ;                 urren() {
 ( ;             }           trasync  t()Newe || ()                   docRef"nav-| ''ueadocum thllYeElem thById(enew_"nav-_n '' t?.
     
  '';                 docReflocaabelieadocum thllYeElem thById(enew_"nav-_locaabel t?.
     
  '天神';                 docRefcolorieadocum thllYeElem thById(enew_"nav-_color t?.
     
  'red'            returnstom!"nav-| '')                     tralert('スの生入傒入力してください'r;                   co;
                try {
}       render    urrendcheduleDave['ヤベ',�偈']dpush({                   colocaabel,                   con '':m"nav-| '',                   codolor,                   cots = thi: []           docume} ;           const            //  ��ラFires()reに保存           trcumeawait,urrendt()ScheduleDave(r;                                  urrendForm =enav-Form)=ofal'';                 urren() {
 ( ;               tralert('スの生傒追加しました'             
         render() {
 Att) {dit(()                    filter`                   <a<                           <nlass="nav-sepage-hea{
                          <div class                        <nav>
iv coh2>出席入簿</h2>                       <nav>
iv cop "nav-se ubtitle">${urrenden(dbedMonth.repla e('-'道年')}月㤖出席記録</p                            <b</                           <n
                            <nlass="nav-setab-nav"otsyle="margin-bottom:28px;                         <div cl id="ati ="att) {dit(OverviewTab"="nav-setab-btnl${urrenatt) {dit(Tabhis.s�overview  ? '' : '''">
   ">HOMEon>
                                <b< id="ati ="att) {dit(Rfco 'Tab"="nav-setab-btnl${urrenatt) {dit(Tabhis.s� fco '  ? '' : '''">
   ">出席記録</>
                              
                            <n${urrenatt) {dit(Tabhis.s�overview  ? urren() {
 Att) {dit(Overview()">
urren() {
 Att) {dit(Rfco '( }                     
                      `            
         render() {
 Att) {dit(Overview()"                  docRef[year,amonth] Daurrenden(dbedMonth.split('- );
           returnラ全'��日㤖スの生数㤨月澒数を集計                 leomtotalenav-eio',0;           try {
leomtotalSs = thio',0;
          try {
Obj(db.keys(urrendcheduleDave).forEach(day D  {                   cototalenav-eio+=ourrendcheduleDave[day]r > 0) ;           const     urrendcheduleDave[day]r(orEach(cls    {                   co    uotalSs = thio+=f"ls.ts = thid > 0) ;           const     });           docume} ;           const docRefdaySe,hio',Obj(db.keys(urrendcheduleDave)., i)day D  {                   codocRefcnav-eio',urrendcheduleDave[day];                   codocRefts = thCouth =fcnav-eidredut(((sum, "ls
    sum +o"ls.ts = thid > 0) , 0);                      filter{ day, cnav-Couth: cnav-eid > 0) , ts = thCouth };           docume} ;            returnラ詳細売丛計算
          try {
docRefdetailafie ustomealcue(c.DetailedRevenuem);           const docRefvisi()rRevenueie ustomealcue(c.Visi()rRevenuem);           const birth 'r' : ceRevenueie detailaf['淴習会']. fvenue            
 nst birth uotalExtraRevenueie Obj(db.
    s(detailaf)dredut(((sum, d
    sum +od. fvenue, 0);            returnラ表示順序傒定義
          try {
docRefdisplayO 'as ', '淴習会',m'ビ）']�',
（番号）',m'ビ）']�',
（非番号）',m'ビ）']�',
1.5h（番号）',m'ビ）']�',
1.5h（非番号）',m'月謝スの生振替',m'初回体験 ,m'初回無料'];
           returnラ各ぬ',�'�ン受講人数 &�ヤン'�トの甯']�',
別デス',                  docReflessonDavec'; ];                 docReficRerudborMapc';{};           const docRefdayO 'as ', '', '��日'道火'��日'道水'��日'道木'��日'道金'��日'];           const docRefdayColorsc';{ '', '��日'>
 b   '道火'��日': 'red'道水'��日':��green'道木'��日':��orange'道金'��日':��purpl''"};
           returnfor (docRefday offdayO 'as) {                   codocRefcnav-eio',urrendcheduleDave[day] 
   ];                   cofor (docRefcls offcnav-ei) {                   co    stom"ls.ts = thid > 0) his.s0)odoctinue;                   const birth ',rtNo',"ls.n ''.split(' 'r;                   tr  trdocReficRerudboruea',rtN[',rtN. > 0) h- 1];                   const lessonDavedpush({mday, locaabel:,"ls.locaabel,=n '':m"ns.n '',ficRerudbor,a"outh: "ls.ts = thid > 0) , dolor: "ls.colori});           docume.mem    stom!icRerudborMap[icRerudbor]) {                   co        icRerudborMap[icRerudbor]c';{a"nav-ei: 0,rts = thi: 0, cnav-List: [] };           docume.mem    }                   co    icRerudborMap[icRerudbor]."nav-ei++;                   co    icRerudborMap[icRerudbor].ss = thio+=f"ls.ts = thid > 0) ;           const         icRerudborMap[icRerudbor]."nav-List.push(`${day.charAt(0r} .c=ls.locaabel} .c=ls.n ''.repla e(' ' +oicRerudbor,a
  }`)                if (qu}           try {
}       render    docReftorbedInRerudborio',Obj(db. thries(icRerudborMap)da, b) => {
    b[1].ss = thio- a[1].ss = thi);           const birth lessonTotalo',lessonDavedredut(((s, l
    s +ol."outh, 0);            return filter`                   <a<                           <nlass=tsyle="display:flex;justify-doct th:spa e-between;align-items:ce 2
 ;margin-bottom:32px;                         <div cl    on                           <nav>
lass=tsyle="display:flex;gap:10px;align-items:ce 2
 ;">                       <nav>
iv c< id="ati ="p fvMonth"="nav-sebtnlbtn-sfco {drylbtn-sm">◀ 前', on>
                                <biv c<input type="month"=i ="monthSen(dborOverview" 
    =".currenden(dbedMonth}"="nav-sefirm-input"otsyle="pad| '':8px 14px;filc-size:14px;filc-weight:500;"/>                       <nav>
iv c< id="ati ="nexhMonth"="nav-sebtnlbtn-sfco {drylbtn-sm">次',  ▶on>
                                <b</                           <n
                             <nlass="nav-sese,h-grid                         <div cl   ="nav-sese,h-card">                       <nav>
iv c<   ="nav-sese,h-ico  b   "                        <nav>
iv c    Ssvg viewBox="0 0 24 24" fill="none"otsroke="=rrrethColor"otsroke-width="2"><r(db x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg                        <nav>
iv con                           <nav>
iv c<   ="nav-sese,h-label">総スの生数on                           <nav>
iv c<   ="nav-sese,h-
    "otsyle="filc-size:36px;  .cuotalenav-ei}出�="nav-sese,h-unit">スの生</     on                           <nav>
ln                           <nav>
lass="nav-sese,h-card">                       <nav>
iv c<   ="nav-sese,h-ico  green"                        <nav>
iv c    Ssvg viewBox="0 0 24 24" fill="none"otsroke="=rrrethColor"otsroke-width="2"><pa) h ="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9"="y="7" r="4"/></svg                        <nav>
iv con                           <nav>
iv c<   ="nav-sese,h-label">総月澒数（件べ）on                           <nav>
iv c<   ="nav-sese,h-
    "otsyle="filc-size:36px;dolor:var(--acce 2);  .cuotalSs = thi}出�="nav-sese,h-unit">名</     on                           <nav>
ln                           <nav>
lass="nav-sese,h-card">                       <nav>
iv c<   ="nav-sese,h-ico  purpl'"                        <nav>
iv c    Ssvg viewBox="0 0 24 24" fill="none"otsroke="=rrrethColor"otsroke-width="2"><pa) h ="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg                        <nav>
iv con                           <nav>
iv c<   ="nav-sese,h-label">ビ）']�',
売丛on                           <nav>
iv c<   ="nav-sese,h-
    "otsyle="filc-size:36px;dolor:var(--green);  ¥${visi()rRevenue.toLocale().splm)}on                           <nav>
ln                           <nav>
lass="nav-sese,h-card">                       <nav>
iv c<   ="nav-sese,h-ico  orange"                        <nav>
iv c    Ssvg viewBox="0 0 24 24" fill="none"otsroke="=rrrethColor"otsroke-width="2"><circle cx="12"="y="12"=r="10"/><polyline poithi="12 6 12 12 16 14"/></svg                        <nav>
iv con                           <nav>
iv c<   ="nav-sese,h-label">練習会売丛on                           <nav>
iv c<   ="nav-sese,h-
    "otsyle="filc-size:36px;dolor:var(--tansfsfco {dry);  ¥${'r' : ceRevenue.toLocale().splm)}on                           <nav>
av>
lass=tsyle="filc-size:12px;dolor:var(--tansf2
 tidry);margin-top:8px;  .cdetailaf['淴習会']."outh}入参加on                           <nav>
ln                           <n
                             <nlass="nav-sedoct th-card"otsyle="margin-bottom:24px;pad| '':0;overflow:hid= t;                         <div cl   otsyle="pad| '':24px 28px 0;">                       <nav>
iv c<h3="nav-sedard-title">売丛内訳（䏗講人数・売丛）onh3                        <nav>
ln                           <nav>
lass=tsyle="overflow-x:auto;pad| '':16px 0 0;">                       <nav>
iv c<table                        <nav>
iv c    Sthea{                        <nav>
iv c        Str                        <nav>
iv c            Sthotsyle="pad| ''-left:28px;  傫テゴリ</th                        <nav>
iv c            Sthotsyle="tansfalign:ce 2
 ;">単価</th                        <nav>
iv c            Sthotsyle="tansfalign:ce 2
 ;">受講人数</th                        <nav>
iv c            Sthotsyle="tansfalign:right;pad| ''-right:28px;  売丛onth                        <nav>
iv c        ontr                        <nav>
iv c    onthea{                        <nav>
iv c    <tbody                        <nav>
iv c        .cdisplayO 'as., i)pass => {                   co            .mem  const docRefdaveo',detailaf[pass] || {a"outh: 0,r fvenue:m0 };                   co            .mem  const docRef'r ces.custom'ri.5px[pass] || 0;                   co        y {
      return filter`                   <a          <nav>
iv c        Str                        <nav>
iv c                    Stdotsyle="pad| ''-left:28px;filc-weight:500;" .cpass}ontd                        <nav>
iv c                    Stdotsyle="tansfalign:ce 2
 ;dolor:var(--tansfsfco {dry);  ¥${'r ce.toLocale().splm)}ontd                        <nav>
iv c                    Stdotsyle="tansfalign:ce 2
 ;"                        <nav>
iv c                        .cdaved"outh > 0 ? `出�="nav-sebadge badge-b   " .cdaved"outh}.cpasshis.s�淴習会' ? '入'">
 回'}</     `">
 出�=tsyle="dolor:var(--tansf2
 tidry);">-</     '}                       <nav>
iv c                    Sntd                        <nav>
iv c                    Stdotsyle="tansfalign:right;pad| ''-right:28px;filc-weight:600;dolor:.cdaved fvenue > 0 ? 'var(--green)'">
 var(--tansf2
 tidry)'};"                        <nav>
iv c                        .cdaved fvenue > 0 ? '¥' +odaved fvenue.toLocale().splm)">
 -'}                       <nav>
iv c                    Sntd                        <nav>
iv c                ontr                        <nav>
iv c            `            
                             })c\n')('')}                       <nav>
iv c    ontbody                        <nav>
iv c    <tfoot                        <nav>
iv c        Strotsyle="bo 'ar-top:2px solid var(--tansf'r mdry);">
              <nav>
iv c                    Stdotsyle="pad| ''-left:28px;filc-weight:700;" dol    ="3">合計Sntd                        <nav>
iv c            Stdotsyle="tansfalign:right;pad| ''-right:28px;filc-weight:700;filc-size:18px;dolor:var(--acce 2);  ¥${uotalExtraRevenue.toLocale().splm)}ontd                        <nav>
iv c        ontr                        <nav>
iv c    ontfoot                        <nav>
iv contable                        <nav>
ln                           <n
                             <nlass="nav-sedoct th-card"otsyle="margin-bottom:24px;pad| '':0;overflow:hid= t;                         <div cl   otsyle="pad| '':24px 28px 0;">                       <nav>
iv c<h3="nav-sedard-title">各ぬ',�'�ン受講人数onh3                        <nav>
ln                           <nav>
lass=tsyle="overflow-x:auto;pad| '':16px 0 0;">                       <nav>
iv c<table                        <nav>
iv c    Sthea{                        <nav>
iv c        Str                        <nav>
iv c            Sthotsyle="pad| ''-left:28px;  '��日</th                        <nav>
iv c            Sth>場所</th                        <nav>
iv c            Sth>スの生入</th                        <nav>
iv c            Sthotsyle="tansfalign:ce 2
 ;">講師</th                        <nav>
iv c            Sthotsyle="tansfalign:ce 2
 ;pad| ''-right:28px;  受講人数</th                        <nav>
iv c        ontr                        <nav>
iv c    onthea{                        <nav>
iv c    <tbody                        <nav>
iv c        .clessonDaved, i)l    `                       <nav>
iv c            Str                        <nav>
iv c                Stdotsyle="pad| ''-left:28px;">出�="nav-sebadge badge-b   " .cl.day}</     ontd                        <nav>
iv c                otdotsyle="dolor:var(--tansfsfco {dry);  .cl.locaabel}ontd                        <nav>
iv c                otdotsyle="filc-weight:500;" .cl.n ''}ontd                        <nav>
iv c                otdotsyle="tansfalign:ce 2
 ;">出�="nav-sebadge"otsyle="backgrsutd:rgba(175,82,222,0.1);dolor:var(--purpl');  .cl.icRerudbor}</     ontd                        <nav>
iv c                otdotsyle="tansfalign:ce 2
 ;pad| ''-right:28px;  出�="nav-sebadge badge-green" .cl."outh}入</     ontd                        <nav>
iv c            ontr                        <nav>
iv c        `)c\n')('')}                       <nav>
iv c    ontbody                        <nav>
iv c    <tfoot                        <nav>
iv c        Strotsyle="bo 'ar-top:2px solid var(--tansf'r mdry);">
              <nav>
iv c                    Stdotsyle="pad| ''-left:28px;filc-weight:700;" dol    ="4">合計Sntd                        <nav>
iv c            Stdotsyle="tansfalign:ce 2
 ;pad| ''-right:28px;filc-weight:700;dolor:var(--acce 2);  .clessonTotal}入</td                        <nav>
iv c        ontr                        <nav>
iv c    ontfoot                        <nav>
iv contable                        <nav>
ln                           <n
                             <nlass="nav-sedoct th-card"otsyle="margin-bottom:24px;                         <div cl   ="nav-sedard-hea{
                          <div civ c<h3="nav-sedard-title">ヤン'�トの甯']�',
別 月澒数onh3                        <nav>
ln                           <nav>
lass=tsyle="display:grid;grid-tampe(c.-dolumns:repeat(3,1fr);gap:16px;                         <div c    .ctorbedInRerudborid, i)([n '',fdave])    `                       <nav>
iv c    l   ="nav-sedard"otsyle="pad| '':20px;                         <div c      <nav>
lass=tsyle="display:flex;justify-doct th:spa e-between;align-items:ce 2
 ;margin-bottom:10px;                         <div c      <nav>
    Ss��=tsyle="filc-size:16px;filc-weight:700;dolor:var(--purpl');let2
 -spa  '':-0.3px;  .cn ''}on                            <div c      <nav>
    Ss��="nav-sebadge"otsyle="backgrsutd:var(--purpl');dolor:white;" .cdavedss = thi}入</                            <nav>
iv c        on                           <nav>
av>
av>
av>
lass=tsyle="filc-size:12px;dolor:var(--tansfsfco {dry);margin-bottom:10px;  .cdaved"nav-ei}スの生担当on                           <nav>
av>
av>
av>
lass=tsyle="display:flex;flex-wrap:wrap;gap:4px;                         <div c      <nav>
    .cdaved"nav-List., i)c    `Ss��=tsyle="backgrsutd:rgba(0,0,0,0.04);dolor:var(--tansfsfco {dry);pad| '':3px 8px;bo 'ar-radius:6px;filc-size:11px;  .cc}</     `)c\n')('')}                       <nav>
iv c        on                           <nav>
av>
av>
on                           <nav>
av>
`)c\n')('')}                       <nav>
ln                           <n
                             <nlass="nav-sedoct th-grid                         <div cl   ="nav-sedoct th-card"                        <nav>
iv c<   ="nav-sedard-hea{
                          <div civ civ c<h3="nav-sedard-title">'��日別スの生数onh3                        <nav>
av>
on                           <nav>
av>
${daySe,hi., i)se,h    `                       <nav>
iv c    l   ="nav-se fvenue-row                         <div c      <nav>
ls��="nav-se fv-label">.cte,h.day}</                            <nav>
av>
av>
av>
lass=tsyle="display:flex;gap:16px;align-items:ce 2
 ;">                       <nav>
iv c  <nav>
    Ss��=tsyle="filc-size:13px;dolor:var(--tansfsfco {dry);  .cte,h.cnav-Couth}スの生</                            <div c      <nav>
    Ss��="nav-sebadge badge-b   " .cte,h.ts = thCouth}入</                            <nav>
iv c        on                           <nav>
av>
av>
on                           <nav>
av>
`)c\n')('')}                       <nav>
ln                           <niv cl   ="nav-sedoct th-card"                        <nav>
iv c<   ="nav-sedard-hea{
                          <div civ civ c<h3="nav-sedard-title">バ��傹ア'�偗onh3                        <nav>
av>
on                           <nav>
av>
<p=tsyle="filc-size:14px;dolor:var(--tansfsfco {dry);margin-bottom:20px;  デス', '��安全㤖ため、定期的にバ��傹ア'�偗傒取得してください。</p                            <bav>
< id="ati ="backupBtn"="nav-sebtnlbtn-green"=tsyle="width:100%;justify-doct th:ce 2
 ;">                       <nav>
iv c  <nSsvg width="16" height="16" viewBox="0 0 24 24" fill="none"otsroke="=rrrethColor"otsroke-width="2"><pa) h ="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline poithi="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg                        <nav>
iv cccccバ��傹ア'�偗傒取得                       <nav>
av>
on>
                                <biv c<   =i ="backupSe,hus"=tsyle="filc-size:12px;dolor:var(--tansf2
 tidry);tansfalign:ce 2
 ;margin-top:12px;  on                           <nav>
ln                           <n
                        <n
                      `            
         render() {
 Att) {dit(Rfco '(  {                 ラヤベ',�偈傈',�'��専用㤖ぬ',�偀リ烳[��           returnstomurrenden(dbedDay Ds.s�ヤベ',�偈'  {           const .mem filte
urren() {
  v thRfco '( ;           try {
}       render    docRef[year,amonth] Daurrenden(dbedMonth.split('- );
    .mem  const docRefdayCnav-eio',urrendcheduleDave[urrenden(dbedDay] 
   ];                 stomurrenisLo|| ''  {           const .mem filte
`                       <nlass="nav-seflex items-ce 2
  justify-de 2
  h-96                         <div cl   ="nav-setansfde 2
 "                        <nav>
iv c<   ="nav-seinline-b ock anim(c.-spin rsutded-full h-12 w-12 bo 'ar-b-2 bo 'ar-b   -600 mb-4">on                           <nav>
av>
<p="nav-setansfgray-600">', '�込み中...</p                            <b</                           <n
                          `;           try {
}       render     filter`                   <a<                           <nlass="nav-seflex justify-between items-ce 2
  mb-6                         <div clh2="nav-setansf2xl filc-bold tansfgray-800">出席記録</h2>                       <nav>
lass="nav-seflex gap-2 items-ce 2
 ">                       <nav>
iv c< id="ati ="p fvMonthRfco '"="nav-sebgfgray-200 hover:bgfgray-300 px-3 py-2 rsutded transiabelitansfsm"n${urrenisLo|| '')? 'disabled'">
   >◀ 前', on>
                                <biv c<input                        <nav>
iv ccccctype="month"=                       <nav>
iv ccccci ="monthSen(dbor"=                       <nav>
iv ccccc
    =".currenden(dbedMonth}"=                       <nav>
iv ccccc"nav-sepx-3 py-2 bo 'ar bo 'ar-b   -300 bgfb   -50itansfb   -800 rsutded filc-mediumitansfsm ficus:outline-none ficus:.spl-2 ficus:.spl-b   -500"                       <nav>
iv c/>                       <nav>
iv c< id="ati ="nexhMonthRfco '"="nav-sebgfgray-200 hover:bgfgray-300 px-3 py-2 rsutded transiabelitansfsm"n${urrenisLo|| '')? 'disabled'">
   >次',  ▶on>
                                <b</                           <n
                        <nav>
lass="nav-sebgfwhite rsutded-lg shadow mb-4">                       <nav>
lass="nav-seflex bo 'ar-b overflow-x-auto                         <div c    .c '', '��日'道火'��日'道水'��日'道木'��日'道金'��日', 'ヤベ',�偈']d, i)day D  `                       <nav>
iv c    l id="ati ="day-${day}"c"nav-sepx-4 py-2 tansfsm filc-mediumiwhitespa e-nowrap .currenden(dbedDay Ds.sday ? 'tansfb   -600 bo 'ar-b-2 bo 'ar-b   -600 bgfb   -50'">
 tansfgray-600 hover:tansfb   -600 hover:bgfgray-50'}"                        <nav>
iv c        .cday}                       <nav>
av>
av>
on>
                                <biv c`)c\n')('')}                       <nav>
ln                           <n
            <nav>
iv c        .currendForm =Ss = thForm)? urren() {
 A =Ss = thFormm)">
 '}                       <n.cdayCnav-eid, i)("nav-Info,ti x) => {                   co        docReftorbedSs = thio',urrendorbSs = thiByPlan([..."nav-Infodss = thi]r;                   const     ラ月謝し偮烳㤖眈澒'��常に表示、それ以外'��当月㤖出席デス', '��ある場合㤖み表示                   co        docReffc => edSs = thio',torbedSs = thi.fc => 
ts = th => {                   co            stomurrenisRegularPlan(ts = th.passrrn;
    our  ;                       co        docRefkey Da`${urrenden(dbedDay}_${"nav-Infodlocaabel}_${"nav-Infodn ''}_.cte = th.me || ''}${se = th.f e || ''}`;                       co         filte
urrenatt) {dit(Dave.hasOwnProp
 tymkeyr;                   const     }r;                   const      filter`                   <a          <nlass="nav-sebgfwhite rsutded-lg shadow mb-3">                       <nav>
iv c  <nSass="nav-sebgf${"nav-Infoddolor}-600 tansfwhite px-4 py-2 rsutded-t-lg flex justify-between items-ce 2
                          <div c      <nav>
lh3="nav-setansfbase filc-bold  .ccnav-Infodlocaabel} - ${"nav-Infodn ''}onh3                        <nav>
av>
  <nav>
lass="nav-seflex gap-2 items-ce 2
 ">                       <nav>
iv c  <nav>
    Ss��="nav-setansfxs opa  ty-90  .cfc => edSs = thid > 0) }入</                            <nav>
iv c            l id="at                       <nav>
iv c                dave-add-day=".currenden(dbedDay}"c                       <nav>
iv c                dave-add-locaabel=".ccnav-Infodlocaabel}"c                       <nav>
iv c                dave-add-"nav-se${"nav-Infodn ''}"                       <nav>
iv c                "nav-seadd-se = th-btnlbgfwhite bgfopa  ty-20 hover:bgfopa  ty-30 px-2 py-1 rsutded tansfxs transiabel"                        <nav>
iv c                + 月澒追加           tr                  <nav>
av>
av>
on>
                                <biv c        on                           <nav>
av>
av>
on                           <nav>
av>
av>
lass="nav-sep-3 overflow-x-auto                         <div c            Stable="nav-sew-full tansfxs">
              <nav>
iv c                    Sthea{                        <nav>
iv c                Stro"nav-sebgfgray-50 bo 'ar-b"                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfleft filc-semibold =tsyle="width: 100px;  '��入</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfleft filc-semibold =tsyle="width: 100px;  し偮烳</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 50px;  第1週</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 50px;  第2週</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 50px;  第3週</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 50px;  第4週</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 50px;  予備</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 60px;  出席率</th                        <nav>
iv c                    Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 50px;  編集</th                        <nav>
iv c                ontr                        <nav>
iv c            onthea{                        <nav>
iv c            Stbody                        <nav>
iv c              <n.cfc => edSs = thid, i)se = th => {                   co                      co        docRefte = thKey Da`${urrenden(dbedDay}_${"nav-Infodlocaabel}_${"nav-Infodn ''}_.cte = th.me || ''}${se = th.f e || ''}`;                       co                  co        docRefatt) {dit(o',urrenatt) {dit(Dave[te = thKey]c
  {};                       co                  co        docRefrat(o',urrenlYeAtt) {dit(R(c.(te = thKey);                       co                  co        docRefisEdiab'')=ourrenediab''Ss = th &&                        <nav>
iv c                        nav>
iv ccccctrrenediab''Ss = th.day Ds.surrenden(dbedDay &&                       <nav>
iv c                        nav>
iv ccccctrrenediab''Ss = th.locaabelie==fcnav-Infodlocaabel &&                       <nav>
iv c                        nav>
iv ccccctrrenediab''Ss = th."nav-| ''ue==fcnav-Infodn '' &&                       <nav>
iv c                        nav>
iv ccccctrrenediab''Ss = th.le || '')e==fte = th.me || '' &&                       <nav>
iv c                        nav>
iv ccccctrrenediab''Ss = th.ame || '')e==fte = th.ame || '';                       co                  co                               co                  co        stomisEdiab'') {                   co                      co             filter`                   <a          <n  <nav>
iv c                Stro"nav-sebo 'ar-b bgfb   -50"                        <nav>
iv c                                Stdc"nav-sepx-2 py-2 tansfxs">.cte = th.me || ''} ${se = th.f e || ''}Sntd                        <nav>
iv c                                Stdc"nav-sepx-2 py-2 tansfxs">                       <nav>
iv c                        nav>
iv cccc<den(dbti ="edia_se = th_pass"="nav-sew-full bo 'ar rsutded px-1 py-1 tansfxs">                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="４スの生" ${se = th.passhis.s�４スの生' ? 'den(dbed'">
   >４スの生</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="３スの生" ${se = th.passhis.s�３スの生' ? 'den(dbed'">
   >３スの生</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="２スの生" ${se = th.passhis.s�２スの生' ? 'den(dbed'">
   >２スの生</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="１スの生" ${se = th.passhis.s�１スの生' ? 'den(dbed'">
   >１スの生</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="ビ）']�',
（番号）" ${se = th.passhis.s�ビ）']�',
（番号）' ? 'den(dbed'">
   >ビ）']�',
（番号）</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="ビ）']�',
（非番号）" ${se = th.passhis.s�ビ）']�',
（非番号）' ? 'den(dbed'">
   >ビ）']�',
（非番号）</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="ビ）']�',
（振替）" ${se = th.passhis.s�ビ）']�',
（振替）' ? 'den(dbed'">
   >ビ）']�',
（振替）</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="初回体験" ${se = th.passhis.s�初回体験  ? 'den(dbed'">
   >初回体験</opabel>                       <nav>
iv c                        nav>
iv cccccccc<opabel 
    ="初回無料" ${se = th.passhis.s�初回無料' ? 'den(dbed'">
   >初回無料</opabel>                       <nav>
iv c                        nav>
iv cccc</den(db                        <nav>
iv c                                Sntd                        <nav>
iv c                                .c 'week1'道week2'道week3'道week4'道week5']d, i)week    `                       <nav>
iv c                                    Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nav>
iv c            l id="at                       <nav>
iv c                  <nav>
iv c                dave-"nav-se${te = thKey}"c                       <nav>
iv c                  <nav>
iv c                dave-weekse${week}"                       <nav>
iv c                  <nav>
iv c                "nav-seatt) {dit(-btnlw-8 h-8 rsutded bo 'ar tansfxs ${                       <nav>
iv c                  <nav>
iv c                    att) {dit([week]his.s�○' ? 'bgfgreen-500 bo 'ar-green-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c                    att) {dit([week]his.s�×  ? 'bgfred-500 bo 'ar-red-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c                    att) {dit([week]his.s�畑講' ? 'bgfgray-500 bo 'ar-gray-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c                    'bgfgray-100 bo 'ar-gray-300 tansfgray-400'                       <nav>
iv c                  <nav>
iv c                } hover:opa  ty-80 transiabelifilc-bold                         <nav>
iv c                  <nav>
iv c                ${att) {dit([week]his.s�畑講' ? '畑'">
att) {dit([week]h
  '-'}                       <nav>
iv c                          <nav>
av>
av>
on>
                                <biv c                                    Sntd                        <nav>
iv c                                `)c\n')('')}                       <nav>
iv c                                Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nav>
iv c        Ss��="nav-sepx-2 py-1 rsutded-full tansfxs filc-semibold ${                       <nav>
iv c                  <nav>
iv c            rat(o>= 80 ? 'bgfgreen-100 tansfgreen-800'">                       <nav>
iv c                  <nav>
iv c            rat(o>= 50 ? 'bgfyellow-100 tansfyellow-800'">                       <nav>
iv c                  <nav>
iv c            rat(o> 0 ? 'bgfred-100 tansfred-800'">                       <nav>
iv c                  <nav>
iv c            'bgfgray-100 tansfgray-600'                       <nav>
iv c                  <nav>
iv c        }">.crat(o> 0 ? rat(o+ '%'">
 -'}</                            <nav>
iv c                                Sntd                        <nav>
iv c                                Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nav>
iv c        Sass="nav-seflex flex-col gap-1">                       <nav>
iv c  <nav>
          <nav>
iv c            l id="at                       <nav>
iv c                  <nav>
iv c                i ="dt()EdiaSs = thBtn"                       <nav>
iv c                  <nav>
iv c                "nav-setansfgreen-600 hover:tansfgreen-800 tansfxs">                       <nav>
iv c                        nav>
iv cccccccccccc保存           trcume      <nav>
iv c                          <nav>
av>
av>
on>
                                <biv c                                        l id="at                       <nav>
iv c                  <nav>
iv c                i ="cdit(lEdiaSs = thBtn"                       <nav>
iv c                  <nav>
iv c                "nav-setansfgray-600 hover:tansfgray-800 tansfxs">                       <nav>
iv c                        nav>
iv ccccccccccccキャ烳[��ル           trcume      <nav>
iv c                          <nav>
av>
av>
on>
                                <biv c                                        l id="at                       <nav>
iv c                  <nav>
iv c                dave-den(te-day=".currenden(dbedDay}"                       <nav>
iv c                  <nav>
iv c                dave-den(te-locaabel=".ccnav-Infodlocaabel}"                       <nav>
iv c                  <nav>
iv c                dave-den(te-"nav-se${"nav-Infodn ''}"                       <nav>
iv c                  <nav>
iv c                dave-den(te-lastn ''se${te = th.me || ''}"                       <nav>
iv c                  <nav>
iv c                dave-den(te-f e |n ''se${te = th.f e || ''}"                       <nav>
iv c                  <nav>
iv c                "nav-seden(te-se = th-btnltansfred-600 hover:tansfred-800 tansfxs">                       <nav>
iv c                        nav>
iv cccccccccccc削除                       <nav>
iv c                          <nav>
av>
av>
on>
                                <biv c                                    Sn                           <nav>
av>
av>
av>
                        Sntd                        <nav>
iv c                            ontr                        <nav>
iv c                        `;                       co                  co        }                       co                  co                               co                  co         filter`                   <a          <n  <nav>
iv c            Stro"nav-sebo 'ar-b hover:bgfgray-50">                       <nav>
iv c                        nav>Stdc"nav-sepx-2 py-2 tansfxs">.cte = th.me || ''} ${se = th.f e || ''}Sntd                        <nav>
iv c                            Stdc"nav-sepx-2 py-2 tansfxs">.cte = th.pass}ontd                        <nav>
iv c                            .c 'week1'道week2'道week3'道week4'道week5']d, i)week    `                       <nav>
iv c                                Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nav>
iv c        S id="at                       <nav>
iv c                  <nav>
iv c            dave-"nav-se${te = thKey}"c                       <nav>
iv c                  <nav>
iv c            dave-weekse${week}"                       <nav>
iv c                  <nav>
iv c            "nav-seatt) {dit(-btnlw-8 h-8 rsutded bo 'ar tansfxs ${                       <nav>
iv c                  <nav>
iv c                att) {dit([week]his.s�○' ? 'bgfgreen-500 bo 'ar-green-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c                att) {dit([week]his.s�×  ? 'bgfred-500 bo 'ar-red-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c                att) {dit([week]his.s�畑講' ? 'bgfgray-500 bo 'ar-gray-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c                'bgfgray-100 bo 'ar-gray-300 tansfgray-400'                       <nav>
iv c                  <nav>
iv c            } hover:opa  ty-80 transiabelifilc-bold                         <nav>
iv c                  <nav>
iv c            ${att) {dit([week]his.s�畑講' ? '畑'">
att) {dit([week]h
  '-'}                       <nav>
iv c                          <nav>
av>
on>
                                <biv c                                ontd                        <nav>
iv c                            `)c\n')('')}                       <nav>
iv c                            Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nav>
iv c    Ss��="nav-sepx-2 py-1 rsutded-full tansfxs filc-semibold ${                       <nav>
iv c                  <nav>
iv c        rat(o>= 80 ? 'bgfgreen-100 tansfgreen-800'">                       <nav>
iv c                  <nav>
iv c        rat(o>= 50 ? 'bgfyellow-100 tansfyellow-800'">                       <nav>
iv c                  <nav>
iv c        rat(o> 0 ? 'bgfred-100 tansfred-800'">                       <nav>
iv c                  <nav>
iv c        'bgfgray-100 tansfgray-600'                       <nav>
iv c                  <nav>
iv c    }">.crat(o> 0 ? rat(o+ '%'">
 -'}</                            <nav>
iv c                            Sntd                        <nav>
iv c                            Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nav>
iv c    S id="at                       <nav>
iv c                  <nav>
iv c        dave-edia-se = th-day=".currenden(dbedDay}"                       <nav>
iv c                  <nav>
iv c        dave-edia-se = th-locaabel=".ccnav-Infodlocaabel}"                       <nav>
iv c                  <nav>
iv c        dave-edia-se = th-"nav-se${"nav-Infodn ''}"                       <nav>
iv c                  <nav>
iv c        dave-edia-se = th-lastn ''se${te = th.me || ''}"                       <nav>
iv c                  <nav>
iv c        dave-edia-se = th-f e |n ''se${te = th.f e || ''}"                       <nav>
iv c                  <nav>
iv c        "nav-seedia-se = th-btnltansfb   -600 hover:tansfb   -800 tansfxs">                       <nav>
iv c                        nav>
iv cccc編集                           <biv c                                on>
                                <biv c                            Sntd                        <nav>
iv c                        ontr                        <nav>
iv c                    `;                       co                  co    })c\n')('')}                       <nav>
iv c            ontbody                        <nav>
iv c        ontable                        <nav>
iv c    Sn                           <nav>
av>
<n                           <nav>
`;                       co})c\n')('')}                       <n                       <n.cdayCnav-eid > 0) his.s0 ? `                       <nav>
lass="nav-sebgfwhite rsutded-lg shadow p-12 tansfde 2
 "                        <nav>
iv c<p="nav-setansfgray-500 tansflg">この'��日にはスの生'��ありません</p                            <b</                           <n`">
 '}                        <n.cmurrenden(dbedDay Ds.s�', '��日'h
  urrenden(dbedDay Ds.s�',�'��日'))? urren() {
 Pr' : ceSessbelm)">
 '}                     
                      `            
         render// 淴習会[��スショ烳㤖ぬ',�偀リ烳[��           re() {
 Pr' : ceSessbelm)"{
    .mem  const docRef'r' : ceKey Da`淴習会_.currenden(dbedDay}`;
    .mem  const docRef'r' : ceDaveo',urrenatt) {dit(Dave['r' : ceKey]c
  {};                 docRefweekio', 'week1'道week2'道week3'道week4'道week5'];                 docRefweekLabelio', '第1週'道第2週'道第3週'道第4週'道予備'];                 let uotalPar: ci   hio',0;                 weeki.forEach(w => { uotalPar: ci   hio+= (parseInt('r' : ceDave[w]) || 0); }r;                 docRefuotalRevenueo',uotalPar: ci   hio* 500;
       render     filter`                   <a<   ="nav-sebgfwhite rsutded-lg shadow mb-3">                       <n<   ="nav-sebgfpurpl'-600 tansfwhite px-4 py-2 rsutded-t-lg flex justify-between items-ce 2
                          <div clh3="nav-setansfbase filc-bold  淴習会（¥500/人）onh3                        <nav>
ls��="nav-setansfxs opa  ty-90  合計: ${uotalPar: ci   hi}入 / ¥${uotalRevenue.toLocale().splm)}on                            <n
                        <nav>
lass="nav-sep-3">                       <nav>
Stable="nav-sew-full tansfxs">
              <nav>
iv c        <thea{                        <nav>
iv c    <tro"nav-sebgfgray-50 bo 'ar-b"                        <nav>
iv c        Sthc"nav-sepx-2 py-2 tansfleft filc-semibold =tsyle="width: 100px;  項目</th                        <nav>
iv c        ${weekLabelid, i)label    `                       <nav>
iv c            Sthc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 70px;  .clabel}</th                        <nav>
iv c        `)c\n')('')}                       <nav>
iv c        othc"nav-sepx-2 py-2 tansfce 2
  filc-semibold =tsyle="width: 70px;  合計Snth                        <nav>
iv c        Sthc"nav-sepx-2 py-2 tansfright filc-semibold =tsyle="width: 90px;  売丛onth                        <nav>
iv c    ontr                        <nav>
iv conthea{                        <nav>
iv c<tbody                        <nav>
iv c    <tro"nav-sebo 'ar-b"                        <nav>
iv c        Stdc"nav-sepx-2 py-2 filc-medium  参加人数</td                        <nav>
iv c        ${weeksd, i)week    `                       <nav>
iv c            Stdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
        <input                       <nav>
iv c                    type="numb
 "                       <nav>
iv c                    min="0"                       <nav>
iv c                    
    =".cparseInt('r' : ceDave[week]) || 0}"                       <nav>
iv c                  <ndave-'r' : ce-day=".currenden(dbedDay}"                       <nav>
iv c                  <ndave-'r' : ce-weekse${week}"                       <nav>
iv c                  <n"nav-sepr' : ce-input w-14 bo 'ar rsutded px-1 py-1 tansfxs tansfce 2
  ficus:outline-none ficus:.spl-2 ficus:.spl-purpl'-500"                       <nav>
iv ccccccccccccccccc/                        <nav>
iv c            ontd                        <nav>
iv c        `)c\n')('')}                       <nav>
iv c        otdc"nav-sepx-2 py-2 tansfce 2
 ">                       <nav>
iv c  <nav>
    Ss��="nav-sebl-purpl'-100 tansfpurpl'-800 px-2 py-1 rsutded-full tansfxs filc-semibold  .cuotalPar: ci   hi}入</                            <nav>
iv c        ontd                        <nav>
iv c        otdc"nav-sepx-2 py-2 tansfright filc-bold tansfpurpl'-700">¥${uotalRevenue.toLocale().splm)}ontd                        <nav>
iv c    ontr                        <nav>
iv contbody                        <nav>
ontable                        <n
                        <n
                      `            
         render() {
 A =Ss = thFormm)"{       render     filter`                   <a<   ="nav-sebgfb   -50ip-4 rsutded-lg mb-4 bo 'ar bo 'ar-b   -200">                       <nlh3="nav-setansfbase filc-semibold mb-3 tansfgray-800">月澒追加onh3                        <n                       <nl!-- 顧客検索 --                    <nav>
lass="nav-semb-3">                       <nav>
<label "nav-seb ock tansfxs filc-mediumimb-1  顧客検索（氏入・', '�・番号番号）onlabel>                       <nav>
<input                        <nav>
iv ctype="tans"c                       <nav>
iv ci ="de = th_search_input"c                       <nav>
iv c
    =".currende = thSearchTerm}"                       <nav>
iv c"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm ficus:outline-none ficus:.spl-2 ficus:.spl-b   -500"c                       <nav>
iv cplaceholder="例: 中島、なかしま、ナカシマ、nakashima、0001"                       <nav>
iv cautocompn(te="off"                       <nav>
/                        <div cl   ="nav-setansfxs tansfgray-500 mt-1  💡 漢字・ひら'��な・カタカナ・'��語・番号番号で検索できますon                           <nav>
l!-- 検索結果表示用コ',�偆ナ --                    <nav>
iv cl   =i ="dearchResultsCilcainer                         <div c    .currende = thSearchResultsd > 0) h>s0 ? `                       <nav>
  <nav>
lass="nav-semt-2 bo 'ar rsutded bgfwhite se = th-dearch-results shadowflg">                       <nav>
iv c        ${urrende = thSearchResultsd, i)customar    `                       <nav>
iv c            Sass=                       <nav>
iv c                dave-den(db-customar-i ="${customar.id}"                       <nav>
iv c                "nav-seden(db-customar-btnlp-2 hover:bgfb   -50icursor-poithar bo 'ar-b me |:bo 'ar-b-0 tansfsm transiabel"                        <nav>
iv c                Sass="nav-sefilc-mediumitansfb   -600">                       <nav>
iv c                    ${customar.me || ''} ${customar.f e || ''}                       <nav>
iv c                    ${customar.memb
 Numb
  ? `ls��="nav-setansfxs tansfgray-500 ml-2">[${customar.memb
 Numb
 }]</     `">
 '}                       <n          <nav>
iv c    Sn                           <nav>
av>
          <div cl   ="nav-setansfxs tansfgray-600 mt-1                         <nav>
iv c                    ${customar.re|| '')? `', '�: ${customar.re|| ''}`">
 '}                       <n          <nav>
iv c        ${customar.re|| '')&& customar.course ? ' | '">
 '}                       <n          <nav>
iv c        ${customar.course ? `コ',�ス: ${customar.course}`">
 '}                       <n          <nav>
iv c    Sn                           <nav>
av>
          <dSn                           <nav>
av>
        `)c\n')('')}                       <nav>
iv c    on                           <nav>
av>
`">
urrende = thSearchTerm.).smm)"&& urrende = thSearchResultsd > 0) his.s0 ? `                       <nav>
  <nav>
lass="nav-semt-2 p-2 bgfyellow-50 bo 'ar bo 'ar-yellow-200 rsutded tansfxs tansfyellow-800                         <nav>
iv c        ⚠️ 該当する顧客'��見つかりませんでした                       <nav>
iv c    on                           <nav>
av>
`">
 '}                       <n    ln                           <n
            <nav>
iv c        .currenden(dbedCustomarForSs = th ? `                       <nav>
lass=i ="den(dbedCustomarInfo"="nav-semb-3 p-3 bgfgreen-50 bo 'ar-2 bo 'ar-green-400 rsutded tansfsm"                        <nav>
iv c<   ="nav-seflex items-ce 2
  justify-between">                       <nav>
iv c  <nSass                        <nav>
av>
  <nav>
lass="nav-sefilc-bold tansfgreen-800">✓ 選択中: .currenden(dbedCustomarForSs = th.me || ''} ${urrenden(dbedCustomarForSs = th.f e || ''}Snass                        <nav>
av>
  <nav>
lass="nav-setansfxs tansfgray-700 mt-1                         <nav>
iv c            ${urrenden(dbedCustomarForSs = th.memb
 Numb
  ? `番号番号: ${urrenden(dbedCustomarForSs = th.memb
 Numb
 } | `">
 '}                       <n          <nav>
iv c${urrenden(dbedCustomarForSs = th.re|| '')? `', '�: ${urrenden(dbedCustomarForSs = th.re|| ''} | `">
 '}                       <n          <nav>
iv cコ',�ス: ${urrenden(dbedCustomarForSs = th.course 
  'なし'}                           <biv c        on                           <nav>
av>
av>
on                           <nav>
av>
av>
l id="at                       <nav>
iv c        i ="clearSen(dbedCustomar"                       <nav>
iv c        "nav-setansfred-600 hover:tansfred-800 tansfxs utderline                         <nav>
iv c        選択解除                       <nav>
iv c    on>
                                <biv c<n                           <nav>
ln                           <n`">
 lass=i ="den(dbedCustomarInfo">on    '}                         lass="nav-segrid grid-cols-3 gap-3 mb-3">                       <nav>
lass=i ="n ''InputCilcainer  "nav-se${!urrenden(dbedCustomarForSs = th ? 'col-span-2 grid grid-cols-2 gap-3'">
 hid= t'}"                        <nav>
iv cSass                        <nav>
av>
  <n<label "nav-seb ock tansfxs filc-mediumimb-1  姓 *onlabel>                       <nav>
  <nav>
<input type="tans"ci ="new_se = th_me || ''"c"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm"                        <nav>
av>
on                           <nav>
av>
<ass                        <nav>
av>
  <n<label "nav-seb ock tansfxs filc-mediumimb-1  名 *onlabel>                       <nav>
  <nav>
<input type="tans"ci ="new_se = th_f e || ''"c"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm"                        <nav>
av>
on                           <nav>
ln                           <niv cl   =i ="planSen(dbCilcainer  "nav-se${!urrenden(dbedCustomarForSs = th ? ''">
 col-span-3'}"                        <nav>
iv cSlabel "nav-seb ock tansfxs filc-mediumimb-1  し偮烳 *onlabel>                       <nav>
  <n<den(dbti ="new_se = th_pass"="nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm"                        <nav>
av>
  <n<opabel 
    ="">選択してください</opabel>                       <nav>
iv c    <opabel 
    ="４スの生" ${urrenden(dbedCustomarForSs = th?.course is.s�４' ? 'den(dbed'">
   >４スの生</opabel>                       <nav>
iv c    <opabel 
    ="３スの生" ${urrenden(dbedCustomarForSs = th?.course is.s�３' ? 'den(dbed'">
   >３スの生</opabel>                       <nav>
iv c    <opabel 
    ="２スの生" ${urrenden(dbedCustomarForSs = th?.course is.s�２' ? 'den(dbed'">
   >２スの生</opabel>                       <nav>
iv c    <opabel 
    ="１スの生" ${urrenden(dbedCustomarForSs = th?.course is.s�１' ? 'den(dbed'">
   >１スの生</opabel>                       <nav>
iv c    <opabel 
    ="ビ）']�',
（番号）">ビ）']�',
（番号）</opabel>                       <nav>
iv c    <opabel 
    ="ビ）']�',
（非番号）">ビ）']�',
（非番号）</opabel>                       <nav>
iv c    <opabel 
    ="ビ）']�',
（振替）">ビ）']�',
（振替）</opabel>                       <nav>
iv c    <opabel 
    ="初回体験">初回体験</opabel>                       <nav>
iv c    <opabel 
    ="初回無料">初回無料</opabel>                       <nav>
iv c</den(db                        <nav>
</                           <n
                        <nav>
lass="nav-setansfxs tansfgray-600 mb-3">                       <nav>
※ 顧客管理からし偮烳㤌自動反映されます'��、ビ）']�',
として受講する場合㤯変更してください                       <n
                        <nav>
lass="nav-seflex gap-2">                       <nav>
l id="ati ="dt()NewSs = thBtn"="nav-sebgfb   -600 tansfwhite px-4 py-2 rsutded hover:bgfb   -700 transiabelitansfsm">追加on>
                                <b< id="ati ="cdit(lA =Ss = thBtn"="nav-sebgfgray-300 tansfgray-700 px-4 py-2 rsutded hover:bgfgray-400 transiabelitansfsm">キャ烳[��ルon>
                              
                        <n
                      `            
         renderラヤベ',�偈専用㤖ぬ',�偀リ烳[��           re() {
  v thRfco '( "{
    .mem  const docRef[year,amonth] Daurrenden(dbedMonth.split('- );
    .mem  const docRefuotal Daurrencalculate v thTotal( ;           try {
stomurrenisLo|| ''  {           const .mem filte
`                       <nlass="nav-seflex items-ce 2
  justify-de 2
  h-96                         <div cl   ="nav-setansfde 2
 "                        <nav>
iv c<   ="nav-seinline-b ock anim(c.-spin rsutded-full h-12 w-12 bo 'ar-b-2 bo 'ar-b   -600 mb-4">on                           <nav>
av>
<p="nav-setansfgray-600">', '�込み中...</p                            <b</                           <n
                          `;           try {
}       render     filter`                   <a<                           <nlass="nav-seflex justify-between items-ce 2
  mb-6                         <div clh2="nav-setansf2xl filc-bold tansfgray-800">ヤベ',�偈出席記録</h2>                       <nav>
lass="nav-seflex gap-2 items-ce 2
 ">                       <nav>
iv c< id="ati ="p fvMonthRfco '"="nav-sebgfgray-200 hover:bgfgray-300 px-3 py-2 rsutded transiabelitansfsm"n${urrenisLo|| '')? 'disabled'">
   >◀ 前', on>
                                <biv c<input                        <nav>
iv ccccctype="month"=                       <nav>
iv ccccci ="monthSen(dbor"=                       <nav>
iv ccccc
    =".currenden(dbedMonth}"=                       <nav>
        "nav-sepx-3 py-2 bo 'ar bo 'ar-b   -300 bgfb   -50itansfb   -800 rsutded filc-mediumitansfsm ficus:outline-none ficus:.spl-2 ficus:.spl-b   -500"                       <nav>
iv c/>                       <nav>
iv c< id="ati ="nexhMonthRfco '"="nav-sebgfgray-200 hover:bgfgray-300 px-3 py-2 rsutded transiabelitansfsm"n${urrenisLo|| '')? 'disabled'">
   >次',  ▶on>
                                <b</                           <n
                        <nav>
lass="nav-sebgfwhite rsutded-lg shadow mb-4">                       <nav>
lass="nav-seflex bo 'ar-b overflow-x-auto                         <div c    .c '', '��日'道火'��日'道水'��日'道木'��日'道金'��日', 'ヤベ',�偈']d, i)day D  `                       <nav>
iv c    l id="ati ="day-${day}"c"nav-sepx-4 py-2 tansfsm filc-mediumiwhitespa e-nowrap .currenden(dbedDay Ds.sday ? 'tansfb   -600 bo 'ar-b-2 bo 'ar-b   -600 bgfb   -50'">
 tansfgray-600 hover:tansfb   -600 hover:bgfgray-50'}"                        <nav>
iv c        .cday}                       <nav>
av>
av>
on>
                    <nav>
av>
        `)c\n')('')}                       <nav>
</                           <n
                        <nav>
lass="nav-sebgfwhite rsutded-lg shadow p-6">                       <nav>
lass="nav-seflex justify-between items-ce 2
  mb-4">                       <nav>
iv c<h3="nav-setansflg filc-bold tansfgray-800">ヤベ',�偈参加者一覧onh3                        <nav>
av>
l id="ati ="add v thPar: ci   hBtn"="nav-sebgfgreen-600 tansfwhite px-4 py-2 rsutded hover:bgfgreen-700 transiabelitansfsm">                       <nav>
av>
av>
+ 参加者を追加           tr                  <non>
                                <b</                           <nav>
lass="nav-seoverflow-x-auto                         <div c    Stable="nav-sew-full tansfsm"                        <nav>
av>
  <n<thea{                        <nav>
iv c        <tro"nav-sebgfgray-100 bo 'ar-b">
              <nav>
iv c                    Sth "nav-sepx-3 py-3 tansfleft filc-semibold =tsyle="width: 100px;  '��入（姓）</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfleft filc-semibold =tsyle="width: 100px;  '��入（入）</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfce 2
  filc-semibold =tsyle="width: 60px;  ①</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfce 2
  filc-semibold =tsyle="width: 60px;  ②</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfce 2
  filc-semibold =tsyle="width: 60px;  ③</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfleft filc-semibold =tsyle="width: 120px;  '��金（円）</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfleft filc-semibold =tsyle="width: 200px;  備考</th                        <nav>
iv c            Sth "nav-sepx-3 py-3 tansfce 2
  filc-semibold =tsyle="width: 80px;  '��作Snth                        <nav>
iv c        Sntr                        <nav>
iv c    onthea{                        <nav>
iv c    Stbody                        <nav>
iv c        .curreneveneAtt) {dit(Daved > 0) his.s0 ? `                       <nav>
  <nav>
        <tr                        <nav>
iv c                Std cols   ="8" "nav-sepx-3 py-8 tansfce 2
  tansfgray-500                         <nav>
iv c                    参加者がいません。「+ 参加者を追加」ボ']�',�から追加してください。                       <nav>
iv c                ontd                        <nav>
iv c            ontr                        <nav>
iv c        `">
urreneveneAtt) {dit(Daved, i)(par: ci   h, itdex)    `                       <nav>
iv c            Stro"nav-sebo 'ar-b hover:bgfgray-50">                       <nav>
iv c                otdc"nav-sepx-3 py-3"                        <nav>
iv c                    Sinput                        <nav>
iv ccccc      <nav>
iv ccccctype="tans"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-f el ="me || ''"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>

    =".cpar: ci   h.me || '' 
  ''}"                       <nav>
iv c                  <nav>
"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm"                       <nav>
iv c                  <nav>
placeholder="姓"                       <nav>
iv c                  <n/>                       <nav>
iv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3"                        <nav>
iv c                    Sinput                        <nav>
iv ccccc      <nav>
iv ccccctype="tans"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-f el ="f e || ''"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>

    =".cpar: ci   h.ame || '')
  ''}"                       <nav>
iv c                  <nav>
"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm"                       <nav>
iv c                  <nav>
placeholder="名"                       <nav>
iv c                  <n/>                       <nav>
iv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nS id="at                       <nav>
iv c                  <nav>
dave-ev th-weekseweek1"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>
"nav-seev th-att) {dit(-btnlw-10 h-10 rsutded bo 'ar tansfsm ${                       <nav>
iv c                  <nav>
iv cpar: ci   h.week1his.s�○' ? 'bgfgreen-500 bo 'ar-green-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c'bgfred-500 bo 'ar-red-600 tansfwhite'                       <nav>
iv c                  <nav>
} hover:opa  ty-80 transiabelifilc-bold                         <nav>
iv c                  <nav>
.cpar: ci   h.week1his.s�○' ? '○' :s�× }                       <n          <nav>
iv c        on>
                                <biv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nS id="at                       <nav>
iv c                  <nav>
dave-ev th-weekseweek2"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>
"nav-seev th-att) {dit(-btnlw-10 h-10 rsutded bo 'ar tansfsm ${                       <nav>
iv c                  <nav>
iv cpar: ci   h.week2his.s�○' ? 'bgfgreen-500 bo 'ar-green-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c'bgfred-500 bo 'ar-red-600 tansfwhite'                       <nav>
iv c                  <nav>
} hover:opa  ty-80 transiabelifilc-bold                         <nav>
iv c                  <nav>
.cpar: ci   h.week2his.s�○' ? '○' :s�× }                       <n          <nav>
iv c        on>
                                <biv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nS id="at                       <nav>
iv c                  <nav>
dave-ev th-weekseweek3"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>
"nav-seev th-att) {dit(-btnlw-10 h-10 rsutded bo 'ar tansfsm ${                       <nav>
iv c                  <nav>
iv cpar: ci   h.week3his.s�○' ? 'bgfgreen-500 bo 'ar-green-600 tansfwhite'">                       <nav>
iv c                  <nav>
iv c'bgfred-500 bo 'ar-red-600 tansfwhite'                       <nav>
iv c                  <nav>
} hover:opa  ty-80 transiabelifilc-bold                         <nav>
iv c                  <nav>
.cpar: ci   h.week3his.s�○' ? '○' :s�× }                       <n          <nav>
iv c        on>
                                <biv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3"                        <nav>
iv c                    Sinput                        <nav>
iv ccccc      <nav>
iv ccccctype="numb
 "c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-f el ="fe'"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>

    =".cpar: ci   h.aee || 0}"                       <nav>
iv c                  <nav>
"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm tansfright"                       <nav>
iv c                  <nav>
placeholder="0"                       <nav>
iv c                  <nav>
min="0"                       <nav>
iv c                    />                       <nav>
iv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3"                        <nav>
iv c                    Sinput                        <nav>
iv ccccc      <nav>
iv ccccctype="tans"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-f el ="memo"c                       <nav>
iv cccccccccccccccccccccccccdave-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>

    =".cpar: ci   h.memo)
  ''}"                       <nav>
iv c                  <nav>
"nav-sew-full bo 'ar rsutded px-2 py-1 tansfsm"                       <nav>
iv c                  <nav>
placeholder="備考"                       <nav>
iv c                  <n/>                       <nav>
iv c                ontd                        <nav>
iv c                otdc"nav-sepx-3 py-3 tansfce 2
 ">                       <nav>
iv c  <nav>
          <nS id="at                       <nav>
iv cccccccccccccccccccccccccdave-den(te-ev th-itdex=".citdex}"                       <nav>
iv c                  <nav>
"nav-seden(te-ev th-par: ci   h-btnltansfred-600 hover:tansfred-800 tansfxs">                       <nav>
iv c                        削除                       <nav>
iv c                    on>
                                <biv c                ontd                        <nav>
iv c            ontr                        <nav>
iv c        `)c\n')('')}                       <nav>
iv c    ontbody                        <nav>
iv c    <tfoot                        <nav>
iv c        <tro"nav-sebgfb   -50ibo 'ar-t-2 bo 'ar-b   -300                         <nav>
iv c            Std cols   ="5" "nav-sepx-3 py-4 tansfright filc-bold tansfgray-800">合計金額:ontd                        <nav>
iv c            otdc"nav-sepx-3 py-4 filc-bold tansfb   -600 tansflg">¥${uotal.toLocale().splm)}ontd                        <nav>
iv c            Std cols   ="2">ontd                        <nav>
iv c        ontr                        <nav>
iv c    ontfoot                        <nav>
iv contable                        <nav>
</                           <nav>
lass="nav-semt-6ip-4 bgfgray-50 rsutded bo 'ar">                       <nav>
iv c<h4="nav-sefilc-semibold mb-2 tansfsm" 使い方</h4>                       <nav>
iv c<ul="nav-setansfxs tansfgray-600 spa e-y-1                         <nav>
iv c    <li>• 氏入・'��金・備考は直接入力できますonli>                       <nav>
iv c    <li>• ①②③㤖ぜ']�',�をスなッスすると
ls��="nav-setansfgreen-600 filc-bold  ○</      →
ls��="nav-setansfred-600 filc-bold  ×</      →
ls��="nav-setansfgray-600 filc-bold  休</      →
ls��="nav-setansfgray-400 filc-bold  -</      と切り替わりますonli>                       <nav>
iv c    <li>• 入力内容は自動保存されますonli>                       <nav>
iv c    <li>• '��金の合計金額㤌自動で表示されますonli>                       <nav>
iv c</ul                            <b</                           <n
                        <n
                      `            
         render() {
 TimeSchedule( "{
    .mem  const docRefdayio', '', '��日'道火'��日'道水'��日'道木'��日'道金'��日'];                 docRefdayLabelio',{'', '��日':'MON',�火'��日':'TUE',�水'��日':'WED',�木'��日':'THU',�金'��日':'FRI'};                 docRefhourso', '16:00',�17:00',�18:00',�19:00',�20:00',�21:00',�22:00'];
       render     filter`                   <a<                       <nav>
lass="nav-sepage-hea{
                          <div cl                           <nav>
av>
<h2>タイム生'��）'��',
ルonh2>                       <nav>
av>
<p="nav-sesubtitle">週間ぬ',�生',�ゟ'��）'��',
ルonp                            <b</                           <n
                        <nav>
lass="nav-sedoct th-"ard =tsyle="overflow-x:auto;pad| '':0;">                       <nav>
Stable=tsyle="width:100%;bo 'ar-collapse:collapse;table-layout:fixed;">
              <nav>
iv c        <thea{                        <nav>
iv c    <tr                        <nav>
iv c        Sthctsyle="width:70px;pad| '':16px 8px;tansfalign:ce 2
 ;backgrsutd:rgba(0,0,0,0.02);bo 'ar-bo   m:1px solid

 r(--bo 'ar);filc-size:11px;color:
 r(--tansfsedocdary);  '��間</th                        <nav>
iv c        ${dayid, i)d    `Sthctsyle="pad| '':16px 8px;tansfalign:ce 2
 ;backgrsutd:rgba(0,0,0,0.02);bo 'ar-bo   m:1px solid

 r(--bo 'ar);filc-size:13px;filc-weight:600;n(t2
 -spac '':-0.2px;  .cd}<br>ls��=tsyle="filc-size:10px;color:
 r(--tansf2
 tiary);filc-weight:500;  .cdayLabeli[d]}on     </th `)c\n')('')}                       <nav>
iv c    ontr                        <nav>
iv conthea{                        <nav>
iv c<tbody                        <nav>
iv c    ${hoursd, i)hour => {                       <nav>
iv c        "ocRefhourNumo',parseInt(hour);                       co                 filter`<tr                        <nav>
iv c            Std tsyle="pad| '':10px 8px;tansfalign:ce 2
 ;backgrsutd:rgba(0,0,0,0.01);bo 'ar-bo   m:1px solid

 r(--bo 'ar);filc-size:12px;filc-weight:500;color:
 r(--tansf2
 tiary);v
 ticalfalign:top;  .chour}ontd                        <nav>
iv c            ${dayid, i)day D  {                       <nav>
iv c                "ocRefcnav-eio',murrentimeScheduleDave[day]c
  []).fil2
 (c D  {                       <nav>
iv c                    "ocRefstartHour =,parseInt(cntime.split(':')[0]);                       <nav>
iv c                     filterstartHour >=fhourNumo&&rstartHour <fhourNumo+ 1;                       co                  co    });                       co                  co     filter`<td tsyle="pad| '':4px 6px;bo 'ar-bo   m:1px solid

 r(--bo 'ar);v
 ticalfalign:top;                         <n          <nav>
iv c        ${cnav-eid, i)c    `                       <nav>
iv c                  <nav>
lass=tsyle="backgrsutd:${c.color};color:#fff;bo 'ar-radius:
 r(--radiusfxs);pad| '':8px 10px;margin:3px 0;filc-size:11px;box-shadow:0 2px 6px ${c.color}40;transiabel:
 r(--transiabel);">                       <nav>
iv c                        nav>lass=tsyle="filc-weight:600;filc-size:12px;  .ccntime}Sn                           <nav>
av>
          <div c        nav>lass=tsyle="opa  ty:0.9;margin-top:3px;filc-weight:500;  .ccnname}Sn                           <nav>
av>
          <div c        nav>lass=tsyle="opa  ty:0.65;filc-size:10px;margin-top:2px;  .ccnvenue}Sn                           <nav>
av>
          <div c        Sn                           <nav>
av>
          <div c    `)c\n')('')}                       <nav>
iv c                ontd `;                       co                  co})c\n')('')}                       <nav>
iv c        ontr `;                       co            })c\n')('')}                       <nav>
iv contbody                        <nav>
ontable                        <n
                        <n
                      `            
         render() {
 MonthlySchedule( "{
    .mem  const docRef[year,amonth] Daurrenden(dbedMonth.split('- )d, i)Numb
 );                 docRefdaysInMonth Danew Dave(year,amonth, 0).getDave();                 docRefame |DayOfWeek  anew Dave(year,amonth - 1, 1).getDay();                 docRefday| ''io', ''��'�'', ',�火',�水',�木',�金',�土'];                 docRefvenueio', '天神校',�大橋校',�照葉校'];
       render    // De2
 mineiwhichfvenueiohavefcnav-eiooniwhichfday of week                 docRefdayOfWeekVenueio',{};                 docRefdayMapo',{'', '��日':1,�火'��日':2,�水'��日':3,�木'��日':4,�金'��日':5};                 Obj(db.e 2riesmurrendcheduleDave).forEach(([day| '',fcnav-ei]) D  {                     docRefdow =fdayMap[day| ''];                     stomdow) {                       <ndocRefvenueSet  anew Set();                       cocnav-eidforEach(c D  {                       <nav>
stomcdlocaabelhis.s�天神')fvenueSet.ad|('天神校');                       co    elie
stomcdlocaabelhis.s�大橋')fvenueSet.ad|('大橋校');                       co    elie
stomcdlocaabelhis.s�照葉')fvenueSet.ad|('照葉校');                       co});                       codayOfWeekVenuei[dow] DavenueSet;                     }                 });                  let rowio','';                 for (let d   1; d <=fdaysInMonth; d++) {                     docRefdow =fnew Dave(year,amonth - 1, d).getDay();                     docRefisWeek) { =fdow =s.s0 
  dow =s.s6;                     docRefdayColor =fisWeek) { ? '#ff3b30'">
dow =s.s3 ? '#34c759' :s�#1d1d1f';                     docRefbgColor =fisWeek) { ? '#fef2f2' :s�#fff';                      rowio+=r`<tr=tsyle="backgrsutd:${bgColor};">                       <nStd tsyle="pad| '':10px 16px;bo 'ar-bo   m:1px solid

 r(--bo 'ar);tansfalign:ce 2
 ;filc-weight:500;filc-size:14px;  .cd}<ntd                        <nStd tsyle="pad| '':10px 16px;bo 'ar-bo   m:1px solid

 r(--bo 'ar);tansfalign:ce 2
 ;color:.cdayColor};filc-weight:600;filc-size:13px;  .cday| ''i[dow]}<ntd                        <n${venueid, i)v D  {                       <nav>
"ocRefhasCnav- =fdayOfWeekVenuei[dow]?.has(v);                       co     filter`<td tsyle="pad| '':10px 16px;bo 'ar-bo   m:1px solid

 r(--bo 'ar);tansfalign:ce 2
 ;filc-size:14px;                         <div c    .cisWeek) { ? 'ls��=tsyle="color:
 r(--red);filc-size:12px;filc-weight:500;  休校on     ' :shasCnav- ? 'ls��=tsyle="color:
 r(--acce 2);filc-weight:600;filc-size:16px;  ○</     ' :s�ls��=tsyle="color:
 r(--tansf2
 tiary);  -</     '}                       <n    lntd `;                       co})c\n')('')}                     ontr `;                 }
       render     filter`                   <a<                       <nav>
lass="nav-sepage-hea{
                          <div cl                           <nav>
av>
<h2>', 間㔟'��）'��',
ルonh2>                       <nav>
av>
<p="nav-sesubtitle">${year}年${month}', 㤖ゟ'��）'��',
ルonp                            <b</                           <nnav>lass=tsyle="display:flex;gap:10px;align-items:ce 2
 ;">                       <nav>
iv c< id="ati ="p fvMonth"="nav-sebtn btnfsedocdary btnfsm">◀ 前', on>
                                <biv c<input type="month"=i ="monthSen(dborOverview"c
    =".currenden(dbedMonth}"="nav-sefirm-input"ctsyle="pad| '':8px 14px;filc-size:14px; c/>                       <nav>
iv c< id="ati ="nexhMonth"="nav-sebtn btnfsedocdary btnfsm">次',  ▶on>
                                <b</                           <n
                        <nav>
lass="nav-sedoct th-"ard =tsyle="overflow-x:auto;pad| '':0;">                       <nav>
Stable=tsyle="width:100%;bo 'ar-collapse:collapse;">
              <nav>
iv c        <thea{                        <nav>
iv c    <tr                        <nav>
iv c        Sthctsyle="pad| '':14px 16px;width:60px;tansfalign:ce 2
 ;">日Snth                        <nav>
iv c        Sthctsyle="pad| '':14px 16px;width:60px;tansfalign:ce 2
 ;">曜日</th                        <nav>
iv c        ${venueid, i)v D  `Sthctsyle="pad| '':14px 16px;tansfalign:ce 2
 ;">${v}</th `)c\n')('')}                       <nav>
iv c    ontr                        <nav>
iv conthea{                        <nav>
iv c<tbody ${rowi}ontbody                        <nav>
ontable                        <n
                        <n
                      `            
         render() {
 IcRerudborsm)"{       render     filter`                   <a<                       <nav>
lass="nav-sepage-hea{
                          <div cl                           <nav>
av>
<h2>講師し偭フィ',
ルonh2>                       <nav>
av>
<p="nav-sesubtitle">POSSE Dance Aca{
my 㤖イ',�ゟ'��の甯']�',
onp                            <b</                           <n
                        <nav>
lass=tsyle="display:grid;grid-template-columns:repeat(2,1fr);gap:24px;                         <div c${urrenicRerudborDaved, i)icRe    `                       <nav>
iv c<   ="nav-seinRerudbor-"ard >                       <nav>
  <nav>
lass="nav-seinRerudbor-hea{
                          <div c      <nnav>lass=tsyle="display:flex;justify-doct th:spa e-between;align-items:flex-start;">                       <nav>
iv c            <                           <nav>
av>
          <div cl   ="nav-seinRerudbor-name">${inRenname}Sn                           <nav>
av>
          <div cl   ="nav-seinRerudbor-stage">${inRenstageName}Sn                           <nav>
av>
          <dSn                           <nav>
av>
          <dSs��="nav-sebadge badgefb   ">${inRengenre}</                            <nav>
iv c        onass                        <nav>
av>
  <nav>
lass=tsyle="margin-top:14px;filc-size:12px;color:
 r(--tansfsedocdary);display:flex;gap:20px;                         <nav>
av>
          <dSs��>月湴', '��: ${inRenbirthDave}</                            <nav>
iv c          <dSs��>キャ烪ア: ${inRen"areerStart}</                            <nav>
iv c        onass                        <nav>
av>
  <nonass                        <nav>
av>
  <no   ="nav-seinRerudbor-body"                        <nav>
iv c        .cinRenprofile ? `                       <nav>
  <nav>
        <   ="nav-seinRerudbor-s(dbbel"                        <nav>
iv c                Sass="nav-seinRerudbor-s(dbbel-title">し偭フィ',
ルon                           <nav>
av>
          <div clp=tsyle="filc-size:13px;line-height:1.7;color:
 r(--tansfprimary);opa  ty:0.85;">${inRenprofile}onp                            <bav>
iv c        onass                        <nav>
av>
  <nav>
`">
 '}                       <n          <nav>
${inRenmessage ? `                       <nav>
  <nav>
        <   ="nav-seinRerudbor-s(dbbel"                        <nav>
iv c                Sass="nav-seinRerudbor-s(dbbel-title">ち',�画',�ジon                           <nav>
av>
          <div clp=tsyle="filc-size:13px;line-height:1.7;color:
 r(--tansfprimary);opa  ty:0.85;">${inRenmessage}onp                            <bav>
iv c        onass                        <nav>
av>
  <nav>
`">
 '}                       <n          <nav>
<   ="nav-seinRerudbor-s(dbbel"                        <nav>
iv c            Sass="nav-seinRerudbor-s(dbbel-title">受賞歴Sn                           <nav>
av>
          <dSass=tsyle="display:flex;flex-wrap:wrap;gap:6px;                         <nav>
av>
          <dav>
${inRenawardid, i)a D  `Ss��=tsyle="display:inline-b ock;filc-size:11px;backgrsutd:rgba(0,0,0,0.04);pad| '':5px 10px;bo 'ar-radius:8px;color:
 r(--tansfprimary);filc-weight:500;  .ca}</     `)c\n')('')}                       <nav>
iv c            onass                        <nav>
av>
  <nav>
lnass                        <nav>
av>
  <nav>
${inRenotherExperienced > 0) h>s0 ? `                       <nav>
  <nav>
        <   ="nav-seinRerudbor-s(dbbel"                        <nav>
iv c                Sass="nav-seinRerudbor-s(dbbel-title">そ㤖他経歴Sn                           <nav>
av>
          <d  <dSass=tsyle="display:flex;flex-wrap:wrap;gap:6px;                         <nav>
av>
          <dav>
av>
${inRenotherExperienced, i)e D  `Ss��=tsyle="display:inline-b ock;filc-size:11px;backgrsutd:rgba(0,113,227,0.06);pad| '':5px 10px;bo 'ar-radius:8px;color:
 r(--acce 2);filc-weight:500;  .ce}</     `)c\n')('')}                       <nav>
iv c              <dSn                           <nav>
av>
          <dSnass                        <nav>
av>
  <nav>
`">
 '}                       <n          <nav>
<   ="nav-seinRerudbor-s(dbbel"                        <nav>
iv c            Sass="nav-seinRerudbor-s(dbbel-title">ぬ',�生',�経歴Sn                           <nav>
av>
          <dSass=tsyle="display:flex;flex-wrap:wrap;gap:6px;                         <nav>
av>
          <dav>
${inRenlessonid, i)l D  `Ss��=tsyle="display:inline-b ock;filc-size:11px;backgrsutd:rgba(52,199,89,0.08);pad| '':5px 10px;bo 'ar-radius:8px;color:
 r(--green);filc-weight:500;  .cl}</     `)c\n')('')}                       <nav>
iv c            onass                        <nav>
av>
  <nav>
lnass                        <nav>
av>
  <non                           <nav>
av>
<n                           <nav>
`)c\n')('')}                       <n
                        <n
                      `            
         rendersetupAtt) {dit( v thsm)"{       render    docum th.getElem thById('att) {dit(OverviewTab')?.add v thList) er('click', () D  {                     urrenatt) {dit(Tabo','overview';                     urren() {
 ();                 });                 docum th.getElem thById('att) {dit(Rfco 'Tab')?.add v thList) er('click', () D  {                     urrenatt) {dit(Tabo','rfco '';                     urren() {
 ();                 });                 // ', 選択input㤖イ',�',�偈（出席記録）                 docRefmonthSen(dbor =fdocum th.getElem thById('monthSen(dbor' ;           try {
stommonthSen(dbor) {                     monthSen(dbor.add v thList) er('change', (e) D  {                       <nurrenden(dbMonth(e.target.
    );                     });                 }                 // ', 選択input㤖イ',�',�偈（偀ッ男'��',�',
ド）                 docRefmonthSen(dborOverview =fdocum th.getElem thById('monthSen(dborOverview' ;           try {
stommonthSen(dborOverview) {                     monthSen(dborOverview.add v thList) er('change', (e) D  {                       <nurrenden(dbMonth(e.target.
    );                     });                 }                 docRefp fvMonthBtn =fdocum th.getElem thById('p fvMonth );
    .mem  const docRefnexhMonthBtn =fdocum th.getElem thById('nexhMonth );
    .mem  const docRefp fvMonthRfco 'Btn =fdocum th.getElem thById('p fvMonthRfco ' );
    .mem  const docRefnexhMonthRfco 'Btn =fdocum th.getElem thById('nexhMonthRfco '' ;           try {
stomp fvMonthBtn) {                     p fvMonthBtn.add v thList) er('click', (e) D  {                       <ne.p fv thDefault();                       coe.stopPropagaabel();                       courrenchangeMonth(-1);                     });                 }                 stomnexhMonthBtn) {                     nexhMonthBtn.add v thList) er('click', (e) D  {                       <ne.p fv thDefault();                       coe.stopPropagaabel();                       courrenchangeMonth(1);                     });                 }                 stomp fvMonthRfco 'Btn) {                     p fvMonthRfco 'Btn.add v thList) er('click', (e) D  {                       <ne.p fv thDefault();                       coe.stopPropagaabel();                       courrenchangeMonth(-1);                     });                 }                 stomnexhMonthRfco 'Btn) {                     nexhMonthRfco 'Btn.add v thList) er('click', (e) D  {                       <ne.p fv thDefault();                       coe.stopPropagaabel();                       courrenchangeMonth(1);                     });                 }                  '', '��日'道火'��日'道水'��日'道木'��日'道金'��日', 'ヤベ',�偈']dforEach(day D  {                     docum th.getElem thById(`day-${day}`)?.add v thList) er('click', () D  {                       <nurrenden(dbedDay Dfday;                       courren() {
 ();                     });                 });                 docum th.querySen(dborAll('.att) {dit(-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefcnav-I{ =fbtn.getAttribute('dave-cnav-');                       co"ocRefweek  abtn.getAttribute('dave-week');                       courrentoggleAtt) {dit((cnav-I{,fweek);                     });                 });                 docum th.querySen(dborAll('.add-se = th-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefday Dabtn.getAttribute('dave-add-day');                       co"ocReflocaabelhiabtn.getAttribute('dave-add-locaabel');                       co"ocRefcnav-| '')iabtn.getAttribute('dave-add-cnav-');                       courrena =Ss = thToCnav-(day,flocaabel,fcnav-| '');                     });                 });                 // 月澒編集ぜ']�',�                 docum th.querySen(dborAll('.edit-se = th-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefday Dabtn.getAttribute('dave-edit-se = th-day');                       co"ocReflocaabelhiabtn.getAttribute('dave-edit-se = th-locaabel');                       co"ocRefcnav-| '')iabtn.getAttribute('dave-edit-se = th-cnav-');                       co"ocRefme || '' iabtn.getAttribute('dave-edit-se = th-le |name');                       co"ocRefame || '')iabtn.getAttribute('dave-edit-se = th-ame |name');                       courrendtartEditSs = th(day,flocaabel,fcnav-| '',fme || '',fame || '');                     });                 });                 // 月澒削除ぜ']�',�                 docum th.querySen(dborAll('.den(te-se = th-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefday Dabtn.getAttribute('dave-den(te-day');                       co"ocReflocaabelhiabtn.getAttribute('dave-den(te-locaabel');                       co"ocRefcnav-| '')iabtn.getAttribute('dave-den(te-cnav-');                       co"ocRefme || '' iabtn.getAttribute('dave-den(te-le |name');                       co"ocRefame || '')iabtn.getAttribute('dave-den(te-ame |name');                       courrenden(teSs = th(day,flocaabel,fcnav-| '',fme || '',fame || '');                     });                 });                 // 月澒編集保存・キャ烳[��ル                 docum th.getElem thById('saveEditSs = thBtn')?.add v thList) er('click', () D  urrendaveEditSs = th());                 docum th.getElem thById('cdit(lEditSs = thBtn')?.add v thList) er('click', () D  {                     urreneditingSs = th =fnull;                     urren() {
 ();                 });                 // 月澒検索（偪アルタイム）- フォ',�カス維持㤖ため検索結果㤖み更新
    .mem  const docRefsearchInput =fdocum th.getElem thById('se = th_search_input' ;           try {
stomsearchInput) {                     // inputヤベ',�偈で検索結果㤖み更新（全体を再ぬ',�偀リ烳[��しない）                 ndersearchInput.add v thList) er('input', (e) D  {                       <nurrende = thSearchTermo',e.target.
    ;                       costomurrende = thSearchTerm.trim()) {                       <nav>
urrende = thSearchResults DaurrendearchCustomerBy| ''murrende = thSearchTerm);                       co} elie
{                       <nav>
urrende = thSearchResults Da[];                       <nav>
urrenden(dbedCustomerForSs = th =fnull;                         }                         // '��索結果㤖みを更新（フォ',�カスを維持）                 nderav>
urrenupdaveSearchResults();                     });                                          // フォ',�カス時にも'��索結果を表示                 ndersearchInput.add v thList) er('ficus', (e) D  {                       <nstomurrende = thSearchTerm.trim()) {                       <nav>
urrende = thSearchResults DaurrendearchCustomerBy| ''murrende = thSearchTerm);                       coav>
urrenupdaveSearchResults();                         }                     });                 }                 // 顧客選択（初期ぬ',�偀リ烳[��時）                 docum th.querySen(dborAll('.den(db-customer-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefcustomerI{ =fbtn.getAttribute('dave-den(db-customer-id');                       co"ocRefcustomer Daurrencustomers.find(c D  c.id =s.scustomerI{);                       costomcustomer) {                       <nav>
urrenden(dbCustomerForSs = thmcustomer);                         }                     });                 });                 // 顧客選択解除（初期ぬ',�偀リ烳[��時）                 docum th.getElem thById('clearSen(dbedCustomer')?.add v thList) er('click', () D  {                     urrenden(dbedCustomerForSs = th =fnull;                     urrende = thSearchTermo','';                     urrende = thSearchResults Da[];                     urrenupdaveSen(dbedCustomerInfo();                     // '��索入力欄をスなア                     docRefsearchInput =fdocum th.getElem thById('se = th_search_input' ;           try {
y {
stomsearchInput) searchInput.
    o','';                     // '��索結果をスなア                     urrenupdaveSearchResults();                     // プの�,�をなセッ烈                     docRefplanSen(db =fdocum th.getElem thById('new_se = th_plan' ;           try {
y {
stomplanSen(db)fplanSen(db.
    o','';                 });                 // ヤベ',�偈専用㤖イ',�',�偈なスナ',�                 docum th.getElem thById('add v thPar: ci   hBtn')?.add v thList) er('click', () D  {                     urrenadd v thPar: ci   h();                 });                 // ヤベ',�偈出席ぜ']�',�                 docum th.querySen(dborAll('.ev th-att) {dit(-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefitdex =,parseInt(btn.getAttribute('dave-ev th-itdex'));                       co"ocRefweek  abtn.getAttribute('dave-ev th-week');                       co"ocRefcurr th =furreneveneAtt) {dit(Dave[itdex][week])
  '';                       co"ocRefnexh =fcurr th =s.s�○' ? '×' :s�○';                       courreneveneAtt) {dit(Dave[itdex][week])=fnexh;                       courrendaveEveneAtt) {dit(();                       courren() {
 ();                     });                 });                 // ヤベ',�偈フィ',
ルド入力                 docum th.querySen(dborAll('[dave-ev th-f el ]').forEach(input D  {                     input.add v thList) er('change', (e) D  {                       <n"ocRefitdex =,parseInt(e.target.getAttribute('dave-ev th-itdex'));                       co"ocReff el o',e.target.getAttribute('dave-ev th-f el ');                       colet 
    o',e.target.
    ;                       co                         // '��金は数値に変換                       costomf el o's.s�fee') {                       <nav>

    o',parseFloat(
    ) || 0;                         }                                                courreneveneAtt) {dit(Dave[itdex][f el ] Dav    ;                       courrendaveEveneAtt) {dit(();                     });                     // リアルタイム更新（'��金のみ）                 nderstominput.getAttribute('dave-ev th-f el ')o's.s�fee') {                       <ninput.add v thList) er('input', (e) D  {                       <n  <n"ocRefitdex =,parseInt(e.target.getAttribute('dave-ev th-itdex'));                       co  <n"ocRef
    o',parseFloat(e.target.
    ) || 0;                           courreneveneAtt) {dit(Dave[itdex].aee Dav    ;                       co  courren() {
 ();                         });                     }                 });                 // ヤベ',�偈参加者削除                 docum th.querySen(dborAll('.den(te-ev th-par: ci   h-btn').forEach(btn D  {                     btn.add v thList) er('click', () D  {                       <n"ocRefitdex =,parseInt(btn.getAttribute('dave-den(te-ev th-itdex'));                       courrenden(te v thPar: ci   h(itdex);                     });                 });                 docum th.getElem thById('saveNewSs = thBtn')?.add v thList) er('click', () D  urrendaveNewSs = th());                 docum th.getElem thById('cdit(lA =Ss = thBtn')?.add v thList) er('click', () D  {                     urrenshowA =Ss = thFormo',false;                     urrenden(dbedCnav-ForA = =fnull;                     urrenden(dbedCustomerForSs = th =fnull;                     urrende = thSearchTermo','';                     urrende = thSearchResults Da[];                     urren() {
 ();                 });                 // 淴習会の参加人数入力                 docum th.querySen(dborAll('.prac: ce-input' .forEach(input D  {                     input.add v thList) er('change', async (e) D  {                       <n"ocRefday Dae.target.getAttribute('dave-prac: ce-day');                       co"ocRefweek  ae.target.getAttribute('dave-prac: ce-week');                       co"ocRef
    o',parseInt(e.target.
    ) || 0;                         docRefp ac: ceKey Da`淴習会_${day}`;                       costom!urrenatt) {dit(Dave[p ac: ceKey]) {                       <nav>
urrenatt) {dit(Dave[p ac: ceKey]o',{};                         }                         urrenatt) {dit(Dave[p ac: ceKey][week])=fv    ;                       coawait urrendaveAtt) {dit((p ac: ceKey, urrenatt) {dit(Dave[p ac: ceKey]);                       courren() {
 ();                     });                 });                 // バッスアップぜ']�',�                 docum th.getElem thById('backupBtn')?.add v thList) er('click', async () D  {                     await urrencreateBackup();                 });             }             // バッスアップ機能             async createBackup()"{
    .mem  const docRefstatusEl =fdocum th.getElem thById('backupStatus' ;           try {
stomstatusEl)fstatusEl.tansCoct tho','バッスアップ作成中...';                 try {                     docRefbackupo',{ timestamp:fnew Dave().toISO().splm), coll(dbbels:,{} };                     // dchedule                     docRefscheduleSnapo',await getDocs(coll(dbbel(db, 'schedule'));                     backup.coll(dbbelsndcheduleo',{};                     scheduleSnap.docidforEach(d    { backup.coll(dbbelsndchedule[d.i ] Dad.dave(); });                     // customers
                  co"ocRefcustSnapo',await getDocs(coll(dbbel(db, 'customers'));                     backup.coll(dbbelsncustomerso',{};                     custSnap.docidforEach(d    { backup.coll(dbbelsncustomers[d.i ] Dad.dave(); });                     // att) {dit( months
                  co"ocRefmonthso', '202509',�202511',�202512',�202601',�202602',�202603'];                     for ("ocRefm of months) {                       <ntry {                             docRefsnapo',await getDocs(coll(dbbel(db, `att) {dit(_${m}`));                       co  <nstom!snap.empty) {                       <nav>
iv cbackup.coll(dbbels[`att) {dit(_${m}`]o',{};                                 snap.docidforEach(d    { backup.coll(dbbels[`att) {dit(_${m}`][d.i ] Dad.dave(); });                             }                         } catch( ) {}
                    }                     // ev th_att) {dit( months
                  cofor ("ocRefm of months) {                       <ntry {                             docRefsnapo',await getDocs(coll(dbbel(db, `ev th_att) {dit(_${m}`));                       co  <nstom!snap.empty) {                       <nav>
iv cbackup.coll(dbbels[`ev th_att) {dit(_${m}`]o',{};                                 snap.docidforEach(d    { backup.coll(dbbels[`ev th_att) {dit(_${m}`][d.i ] Dad.dave(); });                             }                         } catch( ) {}
                    }                     // 偀ウ',�偭',
ド
                  co"ocRefjselhiaJSONnde.splify(backup,fnull, 2);                     docRefblob =fnew Blob([jsel],,{ type: 'applicaabel/jsel' });                     docRefurl =fURLncreateObj(dbURL(blob);                     docRefa =fdocum th.createElem th('a');                     a.href =furl;                     a.downloa= =f`backup_${new Dave().toISO().splm).split('T')[0]}.jsel`;                     a.click();                     URLnrevokeObj(dbURL(url ;           try {
y {
stomstatusEl)fstatusEl.tansCoct tho',`✅ バッスアップ完了 (${new Dave().toLocale().splm'ja-JP')})`;                 } catch (error) {                     docRole.error('バッスアップエの�,�:', error);           try {
y {
stomstatusEl)fstatusEl.tansCoct tho',`❌ バッスアップ失敗: ${errornmessage}`;                 }             }         }         window.app =fnew Dait(Ss =ioApp();         app.inih();     </script>
</body  </html>
